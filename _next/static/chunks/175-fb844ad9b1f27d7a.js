"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[175],{135:(e,t,n)=>{n.d(t,{bL:()=>x,zi:()=>E});var r=n(2115);function i(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var o=n(5155),a=n(1414),l=n(5503),s=n(1275);n(7650);var u=n(6634),c=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let n=r.forwardRef((e,n)=>{let{asChild:r,...i}=e,a=r?u.DX:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,o.jsx)(a,{...i,ref:n})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),d="Switch",[f,p]=function(e,t=[]){let n=[],i=()=>{let t=n.map(e=>r.createContext(e));return function(n){let i=n?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...n,[e]:i}}),[n,i])}};return i.scopeName=e,[function(t,i){let a=r.createContext(i),l=n.length;n=[...n,i];let s=t=>{let{scope:n,children:i,...s}=t,u=n?.[e]?.[l]||a,c=r.useMemo(()=>s,Object.values(s));return(0,o.jsx)(u.Provider,{value:c,children:i})};return s.displayName=t+"Provider",[s,function(n,o){let s=o?.[e]?.[l]||a,u=r.useContext(s);if(u)return u;if(void 0!==i)return i;throw Error(`\`${n}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let i=n.reduce((t,{useScope:n,scopeName:r})=>{let i=n(e)[`__scope${r}`];return{...t,...i}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}(i,...t)]}(d),[h,m]=f(d),v=r.forwardRef((e,t)=>{let{__scopeSwitch:n,name:l,checked:s,defaultChecked:u,required:d,disabled:f,value:p="on",onCheckedChange:m,form:v,...g}=e,[b,x]=r.useState(null),E=function(...e){return r.useCallback(function(...e){return t=>{let n=!1,r=e.map(e=>{let r=i(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){let n=r[t];"function"==typeof n?n():i(e[t],null)}}}}(...e),e)}(t,e=>x(e)),j=r.useRef(!1),P=!b||v||!!b.closest("form"),[_=!1,C]=function({prop:e,defaultProp:t,onChange:n=()=>{}}){let[i,o]=function({defaultProp:e,onChange:t}){let n=r.useState(e),[i]=n,o=r.useRef(i),l=(0,a.c)(t);return r.useEffect(()=>{o.current!==i&&(l(i),o.current=i)},[i,o,l]),n}({defaultProp:t,onChange:n}),l=void 0!==e,s=l?e:i,u=(0,a.c)(n);return[s,r.useCallback(t=>{if(l){let n="function"==typeof t?t(e):t;n!==e&&u(n)}else o(t)},[l,e,o,u])]}({prop:s,defaultProp:u,onChange:m});return(0,o.jsxs)(h,{scope:n,checked:_,disabled:f,children:[(0,o.jsx)(c.button,{type:"button",role:"switch","aria-checked":_,"aria-required":d,"data-state":w(_),"data-disabled":f?"":void 0,disabled:f,value:p,...g,ref:E,onClick:function(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}(e.onClick,e=>{C(e=>!e),P&&(j.current=e.isPropagationStopped(),j.current||e.stopPropagation())})}),P&&(0,o.jsx)(y,{control:b,bubbles:!j.current,name:l,value:p,checked:_,required:d,disabled:f,form:v,style:{transform:"translateX(-100%)"}})]})});v.displayName=d;var g="SwitchThumb",b=r.forwardRef((e,t)=>{let{__scopeSwitch:n,...r}=e,i=m(g,n);return(0,o.jsx)(c.span,{"data-state":w(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});b.displayName=g;var y=e=>{let{control:t,checked:n,bubbles:i=!0,...a}=e,u=r.useRef(null),c=(0,l.Z)(n),d=(0,s.X)(t);return r.useEffect(()=>{let e=u.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==n&&t){let r=new Event("click",{bubbles:i});t.call(e,n),e.dispatchEvent(r)}},[c,n,i]),(0,o.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:u,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function w(e){return e?"checked":"unchecked"}var x=v,E=b},228:(e,t,n)=>{n.d(t,{DY:()=>l,IU:()=>u,uv:()=>s});let r=e=>"object"==typeof e&&"function"==typeof e.then,i=[];function o(e,t,n=(e,t)=>e===t){if(e===t)return!0;if(!e||!t)return!1;let r=e.length;if(t.length!==r)return!1;for(let i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}function a(e,t=null,n=!1,l={}){for(let r of(null===t&&(t=[e]),i))if(o(t,r.keys,r.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(r,"error"))throw r.error;if(Object.prototype.hasOwnProperty.call(r,"response"))return l.lifespan&&l.lifespan>0&&(r.timeout&&clearTimeout(r.timeout),r.timeout=setTimeout(r.remove,l.lifespan)),r.response;if(!n)throw r.promise}let s={keys:t,equal:l.equal,remove:()=>{let e=i.indexOf(s);-1!==e&&i.splice(e,1)},promise:(r(e)?e:e(...t)).then(e=>{s.response=e,l.lifespan&&l.lifespan>0&&(s.timeout=setTimeout(s.remove,l.lifespan))}).catch(e=>s.error=e)};if(i.push(s),!n)throw s.promise}let l=(e,t,n)=>a(e,t,!1,n),s=(e,t,n)=>void a(e,t,!0,n),u=e=>{if(void 0===e||0===e.length)i.splice(0,i.length);else{let t=i.find(t=>o(e,t.keys,t.equal));t&&t.remove()}}},544:(e,t,n)=>{let r,i,o,a,l;n.d(t,{A:()=>ei,B:()=>T,C:()=>eo,E:()=>I,a:()=>k,b:()=>A,c:()=>eA,d:()=>eR,e:()=>em,f:()=>eW,i:()=>M,j:()=>eL,q:()=>X,u:()=>R});var s=n(3264),u=n(7431),c=n(2115),d=n.t(c,2),f=n(1933),p=n(5643);let h=e=>{let t;let n=new Set,r=(e,r)=>{let i="function"==typeof e?e(t):e;if(!Object.is(i,t)){let e=t;t=(null!=r?r:"object"!=typeof i||null===i)?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,o={setState:r,getState:i,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e))},a=t=e(r,i,o);return o},m=e=>e?h(e):h,{useSyncExternalStoreWithSelector:v}=p,g=e=>e,b=(e,t)=>{let n=m(e),r=(e,r=t)=>(function(e,t=g,n){let r=v(e.subscribe,e.getState,e.getInitialState,t,n);return c.useDebugValue(r),r})(n,e,r);return Object.assign(r,n),r},y=(e,t)=>e?b(e,t):b;var w=n(5220),x=n.n(w),E=n(2407),j=n(228),P=n(5155),_=n(6354);function C(e){let t=e.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}n(7358),d.act;let S=e=>e&&e.isOrthographicCamera,M=e=>e&&e.hasOwnProperty("current"),O=e=>null!=e&&("string"==typeof e||"number"==typeof e||e.isColor),A=((e,t)=>"undefined"!=typeof window&&((null==(e=window.document)?void 0:e.createElement)||(null==(t=window.navigator)?void 0:t.product)==="ReactNative"))()?c.useLayoutEffect:c.useEffect;function k(e){let t=c.useRef(e);return A(()=>void(t.current=e),[e]),t}function R(){let e=(0,_.u5)(),t=(0,_.y3)();return c.useMemo(()=>({children:n})=>{let r=(0,_.Nz)(e,!0,e=>e.type===c.StrictMode)?c.StrictMode:c.Fragment;return(0,P.jsx)(r,{children:(0,P.jsx)(t,{children:n})})},[e,t])}function T({set:e}){return A(()=>(e(new Promise(()=>null)),()=>e(!1)),[e]),null}let I=(e=>((e=class extends c.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}).getDerivedStateFromError=()=>({error:!0}),e))();function z(e){var t;let n="undefined"!=typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}function L(e){var t;return null==(t=e.__r3f)?void 0:t.root.getState()}let F={obj:e=>e===Object(e)&&!F.arr(e)&&"function"!=typeof e,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,boo:e=>"boolean"==typeof e,und:e=>void 0===e,nul:e=>null===e,arr:e=>Array.isArray(e),equ(e,t,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){let o;if(typeof e!=typeof t||!!e!=!!t)return!1;if(F.str(e)||F.num(e)||F.boo(e))return e===t;let a=F.obj(e);if(a&&"reference"===r)return e===t;let l=F.arr(e);if(l&&"reference"===n)return e===t;if((l||a)&&e===t)return!0;for(o in e)if(!(o in t))return!1;if(a&&"shallow"===n&&"shallow"===r){for(o in i?t:e)if(!F.equ(e[o],t[o],{strict:i,objects:"reference"}))return!1}else for(o in i?t:e)if(e[o]!==t[o])return!1;if(F.und(o)){if(l&&0===e.length&&0===t.length||a&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}},D=["children","key","ref"];function N(e,t,n,r){let i=null==e?void 0:e.__r3f;return!i&&(i={root:t,type:n,parent:null,children:[],props:function(e){let t={};for(let n in e)D.includes(n)||(t[n]=e[n]);return t}(r),object:e,eventCount:0,handlers:{},isHidden:!1},e&&(e.__r3f=i)),i}function q(e,t){let n=e[t];if(!t.includes("-"))return{root:e,key:t,target:n};for(let i of(n=e,t.split("-"))){var r;t=i,e=n,n=null==(r=n)?void 0:r[t]}return{root:e,key:t,target:n}}let V=/-\d+$/;function H(e,t){if(F.str(t.props.attach)){if(V.test(t.props.attach)){let n=t.props.attach.replace(V,""),{root:r,key:i}=q(e.object,n);Array.isArray(r[i])||(r[i]=[])}let{root:n,key:r}=q(e.object,t.props.attach);t.previousAttach=n[r],n[r]=t.object}else F.fun(t.props.attach)&&(t.previousAttach=t.props.attach(e.object,t.object))}function B(e,t){if(F.str(t.props.attach)){let{root:n,key:r}=q(e.object,t.props.attach),i=t.previousAttach;void 0===i?delete n[r]:n[r]=i}else null==t.previousAttach||t.previousAttach(e.object,t.object);delete t.previousAttach}let Y=[...D,"args","dispose","attach","object","onUpdate","dispose"],U=new Map,W=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],$=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function X(e,t){var n,r;let i=e.__r3f,o=i&&C(i).getState(),a=null==i?void 0:i.eventCount;for(let n in t){let a=t[n];if(Y.includes(n))continue;if(i&&$.test(n)){"function"==typeof a?i.handlers[n]=a:delete i.handlers[n],i.eventCount=Object.keys(i.handlers).length;continue}if(void 0===a)continue;let{root:l,key:u,target:c}=q(e,n);c instanceof s.zgK&&a instanceof s.zgK?c.mask=a.mask:c instanceof s.Q1f&&O(a)?c.set(a):null!==c&&"object"==typeof c&&"function"==typeof c.set&&"function"==typeof c.copy&&null!=a&&a.constructor&&c.constructor===a.constructor?c.copy(a):null!==c&&"object"==typeof c&&"function"==typeof c.set&&Array.isArray(a)?"function"==typeof c.fromArray?c.fromArray(a):c.set(...a):null!==c&&"object"==typeof c&&"function"==typeof c.set&&"number"==typeof a?"function"==typeof c.setScalar?c.setScalar(a):c.set(a):(l[u]=a,o&&!o.linear&&W.includes(u)&&null!=(r=l[u])&&r.isTexture&&l[u].format===s.GWd&&l[u].type===s.OUM&&(l[u].colorSpace=s.er$))}if(null!=i&&i.parent&&null!=o&&o.internal&&null!=(n=i.object)&&n.isObject3D&&a!==i.eventCount){let e=i.object,t=o.internal.interaction.indexOf(e);t>-1&&o.internal.interaction.splice(t,1),i.eventCount&&null!==e.raycast&&o.internal.interaction.push(e)}return i&&void 0===i.props.attach&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&Z(i),e}function Z(e){var t;if(!e.parent)return;null==e.props.onUpdate||e.props.onUpdate(e.object);let n=null==(t=e.root)?void 0:null==t.getState?void 0:t.getState();n&&0===n.internal.frames&&n.invalidate()}function Q(e,t){e.manual||(S(e)?(e.left=-(t.width/2),e.right=t.width/2,e.top=t.height/2,e.bottom=-(t.height/2)):e.aspect=t.width/t.height,e.updateProjectionMatrix())}let G=e=>null==e?void 0:e.isObject3D;function K(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function J(e,t,n,r){let i=n.get(t);i&&(n.delete(t),0===n.size&&(e.delete(r),i.target.releasePointerCapture(r)))}let ee=e=>!!(null!=e&&e.render),et=c.createContext(null),en=(e,t)=>{let n=y((n,r)=>{let i;let o=new s.Pq0,a=new s.Pq0,l=new s.Pq0;function u(e=r().camera,t=a,n=r().size){let{width:i,height:s,top:c,left:d}=n,f=i/s;t.isVector3?l.copy(t):l.set(...t);let p=e.getWorldPosition(o).distanceTo(l);if(S(e))return{width:i/e.zoom,height:s/e.zoom,top:c,left:d,factor:1,distance:p,aspect:f};{let t=2*Math.tan(e.fov*Math.PI/180/2)*p,n=i/s*t;return{width:n,height:t,top:c,left:d,factor:i/n,distance:p,aspect:f}}}let d=e=>n(t=>({performance:{...t.performance,current:e}})),f=new s.I9Y;return{set:n,get:r,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(t=1)=>e(r(),t),advance:(e,n)=>t(e,n,r()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new s.zD7,pointer:f,mouse:f,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{let e=r();i&&clearTimeout(i),e.performance.current!==e.performance.min&&d(e.performance.min),i=setTimeout(()=>d(r().performance.max),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:u},setEvents:e=>n(t=>({...t,events:{...t.events,...e}})),setSize:(e,t,i=0,o=0)=>{let l=r().camera,s={width:e,height:t,top:i,left:o};n(e=>({size:s,viewport:{...e.viewport,...u(l,a,s)}}))},setDpr:e=>n(t=>{let n=z(e);return{viewport:{...t.viewport,dpr:n,initialDpr:t.viewport.initialDpr||n}}}),setFrameloop:(e="always")=>{let t=r().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),n(()=>({frameloop:e}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:c.createRef(),active:!1,frames:0,priority:0,subscribe:(e,t,n)=>{let i=r().internal;return i.priority=i.priority+ +(t>0),i.subscribers.push({ref:e,priority:t,store:n}),i.subscribers=i.subscribers.sort((e,t)=>e.priority-t.priority),()=>{let n=r().internal;null!=n&&n.subscribers&&(n.priority=n.priority-+(t>0),n.subscribers=n.subscribers.filter(t=>t.ref!==e))}}}}}),r=n.getState(),i=r.size,o=r.viewport.dpr,a=r.camera;return n.subscribe(()=>{let{camera:e,size:t,viewport:r,gl:l,set:s}=n.getState();if(t.width!==i.width||t.height!==i.height||r.dpr!==o){i=t,o=r.dpr,Q(e,t),r.dpr>0&&l.setPixelRatio(r.dpr);let n="undefined"!=typeof HTMLCanvasElement&&l.domElement instanceof HTMLCanvasElement;l.setSize(t.width,t.height,n)}e!==a&&(a=e,s(t=>({viewport:{...t.viewport,...t.viewport.getCurrentViewport(e)}})))}),n.subscribe(t=>e(t)),n};function er(){let e=c.useContext(et);if(!e)throw Error("R3F: Hooks can only be used within the Canvas component!");return e}function ei(e=e=>e,t){return er()(e,t)}function eo(e,t=0){let n=er(),r=n.getState().internal.subscribe,i=k(e);return A(()=>r(i,t,n),[t,r,n]),null}let ea=new WeakMap,el=e=>{var t;return"function"==typeof e&&(null==e?void 0:null==(t=e.prototype)?void 0:t.constructor)===e};function es(e,t){return function(n,...r){let i;return el(n)?(i=ea.get(n))||(i=new n,ea.set(n,i)):i=n,e&&e(i),Promise.all(r.map(e=>new Promise((n,r)=>i.load(e,e=>{G(null==e?void 0:e.scene)&&Object.assign(e,function(e){let t={nodes:{},materials:{},meshes:{}};return e&&e.traverse(e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material),e.isMesh&&!t.meshes[e.name]&&(t.meshes[e.name]=e)}),t}(e.scene)),n(e)},t,t=>r(Error(`Could not load ${e}: ${null==t?void 0:t.message}`))))))}}function eu(e,t,n,r){let i=Array.isArray(t)?t:[t],o=(0,j.DY)(es(n,r),[e,...i],{equal:F.equ});return Array.isArray(t)?o:o[0]}eu.preload=function(e,t,n){let r=Array.isArray(t)?t:[t];return(0,j.uv)(es(n),[e,...r])},eu.clear=function(e,t){let n=Array.isArray(t)?t:[t];return(0,j.IU)([e,...n])};let ec={},ed=/^three(?=[A-Z])/,ef=e=>`${e[0].toUpperCase()}${e.slice(1)}`,ep=0,eh=e=>"function"==typeof e;function em(e){if(eh(e)){let t=`${ep++}`;return ec[t]=e,t}Object.assign(ec,e)}function ev(e,t){let n=ef(e),r=ec[n];if("primitive"!==e&&!r)throw Error(`R3F: ${n} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if("primitive"===e&&!t.object)throw Error("R3F: Primitives without 'object' are invalid!");if(void 0!==t.args&&!Array.isArray(t.args))throw Error("R3F: The args prop must be an array!")}function eg(e){if(e.isHidden){var t;e.props.attach&&null!=(t=e.parent)&&t.object?H(e.parent,e):G(e.object)&&!1!==e.props.visible&&(e.object.visible=!0),e.isHidden=!1,Z(e)}}function eb(e,t,n){let r=t.root.getState();if(e.parent||e.object===r.scene){if(!t.object){var i,o;let e=ec[ef(t.type)];t.object=null!=(i=t.props.object)?i:new e(...null!=(o=t.props.args)?o:[]),t.object.__r3f=t}if(X(t.object,t.props),t.props.attach)H(e,t);else if(G(t.object)&&G(e.object)){let r=e.object.children.indexOf(null==n?void 0:n.object);if(n&&-1!==r){let n=e.object.children.indexOf(t.object);-1!==n?(e.object.children.splice(n,1),e.object.children.splice(n<r?r-1:r,0,t.object)):(t.object.parent=e.object,e.object.children.splice(r,0,t.object),t.object.dispatchEvent({type:"added"}),e.object.dispatchEvent({type:"childadded",child:t.object}))}else e.object.add(t.object)}for(let e of t.children)eb(t,e);Z(t)}}function ey(e,t){t&&(t.parent=e,e.children.push(t),eb(e,t))}function ew(e,t,n){if(!t||!n)return;t.parent=e;let r=e.children.indexOf(n);-1!==r?e.children.splice(r,0,t):e.children.push(t),eb(e,t,n)}function ex(e){if("function"==typeof e.dispose){let t=()=>{try{e.dispose()}catch{}};"undefined"!=typeof IS_REACT_ACT_ENVIRONMENT?t():(0,E.unstable_scheduleCallback)(E.unstable_IdlePriority,t)}}function eE(e,t,n){if(!t)return;t.parent=null;let r=e.children.indexOf(t);-1!==r&&e.children.splice(r,1),t.props.attach?B(e,t):G(t.object)&&G(e.object)&&(e.object.remove(t.object),function(e,t){let{internal:n}=e.getState();n.interaction=n.interaction.filter(e=>e!==t),n.initialHits=n.initialHits.filter(e=>e!==t),n.hovered.forEach((e,r)=>{(e.eventObject===t||e.object===t)&&n.hovered.delete(r)}),n.capturedMap.forEach((e,r)=>{J(n.capturedMap,t,e,r)})}(C(t),t.object));let i=null!==t.props.dispose&&!1!==n;for(let e=t.children.length-1;e>=0;e--){let n=t.children[e];eE(t,n,i)}t.children.length=0,delete t.object.__r3f,i&&"primitive"!==t.type&&"Scene"!==t.object.type&&ex(t.object),void 0===n&&Z(t)}let ej=[],eP=()=>{},e_={},eC=0,eS=function(e){let t=x()(e);return t.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:c.version}),t}({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:function(e,t,n){var r;return ev(e=ef(e)in ec?e:e.replace(ed,""),t),"primitive"===e&&null!=(r=t.object)&&r.__r3f&&delete t.object.__r3f,N(t.object,n,e,t)},removeChild:eE,appendChild:ey,appendInitialChild:ey,insertBefore:ew,appendChildToContainer(e,t){let n=e.getState().scene.__r3f;t&&n&&ey(n,t)},removeChildFromContainer(e,t){let n=e.getState().scene.__r3f;t&&n&&eE(n,t)},insertInContainerBefore(e,t,n){let r=e.getState().scene.__r3f;t&&n&&r&&ew(r,t,n)},getRootHostContext:()=>e_,getChildHostContext:()=>e_,commitUpdate(e,t,n,r,i){var o,a,l;ev(t,r);let s=!1;if("primitive"===e.type&&n.object!==r.object?s=!0:(null==(o=r.args)?void 0:o.length)!==(null==(a=n.args)?void 0:a.length)?s=!0:null!=(l=r.args)&&l.some((e,t)=>{var r;return e!==(null==(r=n.args)?void 0:r[t])})&&(s=!0),s)ej.push([e,{...r},i]);else{let t=function(e,t){let n={};for(let r in t)if(!Y.includes(r)&&!F.equ(t[r],e.props[r]))for(let e in n[r]=t[r],t)e.startsWith(`${r}-`)&&(n[e]=t[e]);for(let r in e.props){if(Y.includes(r)||t.hasOwnProperty(r))continue;let{root:i,key:o}=q(e.object,r);if(i.constructor&&0===i.constructor.length){let e=function(e){let t=U.get(e.constructor);try{t||(t=new e.constructor,U.set(e.constructor,t))}catch(e){}return t}(i);F.und(e)||(n[o]=e[o])}else n[o]=0}return n}(e,r);Object.keys(t).length&&(Object.assign(e.props,t),X(e.object,t))}(null===i.sibling||(4&i.flags)==0)&&function(){for(let[e]of ej){let t=e.parent;if(t)for(let n of(e.props.attach?B(t,e):G(e.object)&&G(t.object)&&t.object.remove(e.object),e.children))n.props.attach?B(e,n):G(n.object)&&G(e.object)&&e.object.remove(n.object);e.isHidden&&eg(e),e.object.__r3f&&delete e.object.__r3f,"primitive"!==e.type&&ex(e.object)}for(let[n,r,i]of ej){n.props=r;let o=n.parent;if(o){var e,t;let r=ec[ef(n.type)];for(let a of(n.object=null!=(e=n.props.object)?e:new r(...null!=(t=n.props.args)?t:[]),n.object.__r3f=n,!function(e,t){for(let n of[e,e.alternate])if(null!==n){if("function"==typeof n.ref){null==n.refCleanup||n.refCleanup();let e=n.ref(t);"function"==typeof e&&(n.refCleanup=e)}else n.ref&&(n.ref.current=t)}}(i,n.object),X(n.object,n.props),n.props.attach?H(o,n):G(n.object)&&G(o.object)&&o.object.add(n.object),n.children))a.props.attach?H(n,a):G(a.object)&&G(n.object)&&n.object.add(a.object);Z(n)}}ej.length=0}()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:e=>null==e?void 0:e.object,prepareForCommit:()=>null,preparePortalMount:e=>N(e.getState().scene,e,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:function(e){if(!e.isHidden){var t;e.props.attach&&null!=(t=e.parent)&&t.object?B(e.parent,e):G(e.object)&&(e.object.visible=!1),e.isHidden=!0,Z(e)}},unhideInstance:eg,createTextInstance:eP,hideTextInstance:eP,unhideTextInstance:eP,scheduleTimeout:"function"==typeof setTimeout?setTimeout:void 0,cancelTimeout:"function"==typeof clearTimeout?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:c.createContext(null),setCurrentUpdatePriority(e){eC=e},getCurrentUpdatePriority:()=>eC,resolveUpdatePriority(){var e;if(0!==eC)return eC;switch("undefined"!=typeof window&&(null==(e=window.event)?void 0:e.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return f.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return f.ContinuousEventPriority;default:return f.DefaultEventPriority}},resetFormInstance(){}}),eM=new Map,eO={objects:"shallow",strict:!1};function eA(e){let t,n;let r=eM.get(e),i=null==r?void 0:r.fiber,o=null==r?void 0:r.store;r&&console.warn("R3F.createRoot should only be called once!");let a="function"==typeof reportError?reportError:console.error,l=o||en(eB,eY),c=i||eS.createContainer(l,f.ConcurrentRoot,null,!1,null,"",a,a,a,null);r||eM.set(e,{fiber:c,store:l});let d=!1,p=null;return{async configure(r={}){var i,o;let a;p=new Promise(e=>a=e);let{gl:c,size:f,scene:h,events:m,onCreated:v,shadows:g=!1,linear:b=!1,flat:y=!1,legacy:w=!1,orthographic:x=!1,frameloop:E="always",dpr:j=[1,2],performance:P,raycaster:_,camera:C,onPointerMissed:S}=r,M=l.getState(),O=M.gl;if(!M.gl){let t={canvas:e,powerPreference:"high-performance",antialias:!0,alpha:!0},n="function"==typeof c?await c(t):c;O=ee(n)?n:new u.WebGLRenderer({...t,...c}),M.set({gl:O})}let A=M.raycaster;A||M.set({raycaster:A=new s.tBo});let{params:k,...R}=_||{};if(F.equ(R,A,eO)||X(A,{...R}),F.equ(k,A.params,eO)||X(A,{params:{...A.params,...k}}),!M.camera||M.camera===n&&!F.equ(n,C,eO)){n=C;let e=null==C?void 0:C.isCamera,t=e?C:x?new s.qUd(0,0,0,0,.1,1e3):new s.ubm(75,0,.1,1e3);e||(t.position.z=5,C&&(X(t,C),!t.manual&&("aspect"in C||"left"in C||"right"in C||"bottom"in C||"top"in C)&&(t.manual=!0,t.updateProjectionMatrix())),M.camera||null!=C&&C.rotation||t.lookAt(0,0,0)),M.set({camera:t}),A.camera=t}if(!M.scene){let e;null!=h&&h.isScene?N(e=h,l,"",{}):(N(e=new s.Z58,l,"",{}),h&&X(e,h)),M.set({scene:e})}m&&!M.events.handlers&&M.set({events:m(l)});let T=function(e,t){if(!t&&"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){let{width:t,height:n,top:r,left:i}=e.parentElement.getBoundingClientRect();return{width:t,height:n,top:r,left:i}}return!t&&"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0}:{width:0,height:0,top:0,left:0,...t}}(e,f);if(F.equ(T,M.size,eO)||M.setSize(T.width,T.height,T.top,T.left),j&&M.viewport.dpr!==z(j)&&M.setDpr(j),M.frameloop!==E&&M.setFrameloop(E),M.onPointerMissed||M.set({onPointerMissed:S}),P&&!F.equ(P,M.performance,eO)&&M.set(e=>({performance:{...e.performance,...P}})),!M.xr){let e=(e,t)=>{let n=l.getState();"never"!==n.frameloop&&eY(e,!0,n,t)},t=()=>{let t=l.getState();t.gl.xr.enabled=t.gl.xr.isPresenting,t.gl.xr.setAnimationLoop(t.gl.xr.isPresenting?e:null),t.gl.xr.isPresenting||eB(t)},n={connect(){let e=l.getState().gl;e.xr.addEventListener("sessionstart",t),e.xr.addEventListener("sessionend",t)},disconnect(){let e=l.getState().gl;e.xr.removeEventListener("sessionstart",t),e.xr.removeEventListener("sessionend",t)}};"function"==typeof(null==(i=O.xr)?void 0:i.addEventListener)&&n.connect(),M.set({xr:n})}if(O.shadowMap){let e=O.shadowMap.enabled,t=O.shadowMap.type;if(O.shadowMap.enabled=!!g,F.boo(g))O.shadowMap.type=s.Wk7;else if(F.str(g)){let e={basic:s.bTm,percentage:s.QP0,soft:s.Wk7,variance:s.RyA};O.shadowMap.type=null!=(o=e[g])?o:s.Wk7}else F.obj(g)&&Object.assign(O.shadowMap,g);(e!==O.shadowMap.enabled||t!==O.shadowMap.type)&&(O.shadowMap.needsUpdate=!0)}return s.ppV.enabled=!w,d||(O.outputColorSpace=b?s.Zr2:s.er$,O.toneMapping=y?s.y_p:s.FV),M.legacy!==w&&M.set(()=>({legacy:w})),M.linear!==b&&M.set(()=>({linear:b})),M.flat!==y&&M.set(()=>({flat:y})),!c||F.fun(c)||ee(c)||F.equ(c,O,eO)||X(O,c),t=v,d=!0,a(),this},render(n){return d||p||this.configure(),p.then(()=>{eS.updateContainer((0,P.jsx)(ek,{store:l,children:n,onCreated:t,rootElement:e}),c,null,()=>void 0)}),l},unmount(){eR(e)}}}function ek({store:e,children:t,onCreated:n,rootElement:r}){return A(()=>{let t=e.getState();t.set(e=>({internal:{...e.internal,active:!0}})),n&&n(t),e.getState().events.connected||null==t.events.connect||t.events.connect(r)},[]),(0,P.jsx)(et.Provider,{value:e,children:t})}function eR(e,t){let n=eM.get(e),r=null==n?void 0:n.fiber;if(r){let i=null==n?void 0:n.store.getState();i&&(i.internal.active=!1),eS.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var n,r,o,a;null==i.events.disconnect||i.events.disconnect(),null==(n=i.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(o=i.gl)||null==o.forceContextLoss||o.forceContextLoss(),null!=(a=i.gl)&&a.xr&&i.xr.disconnect(),function(e){for(let t in"Scene"!==e.type&&(null==e.dispose||e.dispose()),e){let n=e[t];(null==n?void 0:n.type)!=="Scene"&&(null==n||null==n.dispose||n.dispose())}}(i.scene),eM.delete(e),t&&t(e)}catch(e){}},500)})}}let eT=new Set,eI=new Set,ez=new Set,eL=e=>(function(e,t){let n={callback:e};return t.add(n),()=>void t.delete(n)})(e,eT);function eF(e,t){if(e.size)for(let{callback:n}of e.values())n(t)}function eD(e,t){switch(e){case"before":return eF(eT,t);case"after":return eF(eI,t);case"tail":return eF(ez,t)}}function eN(e,t,n){let o=t.clock.getDelta();"never"===t.frameloop&&"number"==typeof e&&(o=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),r=t.internal.subscribers;for(let e=0;e<r.length;e++)(i=r[e]).ref.current(i.store.getState(),o,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}let eq=!1,eV=!1;function eH(e){for(let n of(a=requestAnimationFrame(eH),eq=!0,o=0,eD("before",e),eV=!0,eM.values())){var t;(l=n.store.getState()).internal.active&&("always"===l.frameloop||l.internal.frames>0)&&!(null!=(t=l.gl.xr)&&t.isPresenting)&&(o+=eN(e,l))}if(eV=!1,eD("after",e),0===o)return eD("tail",e),eq=!1,cancelAnimationFrame(a)}function eB(e,t=1){var n;if(!e)return eM.forEach(e=>eB(e.store.getState(),t));null!=(n=e.gl.xr)&&n.isPresenting||!e.internal.active||"never"===e.frameloop||(t>1?e.internal.frames=Math.min(60,e.internal.frames+t):eV?e.internal.frames=2:e.internal.frames=1,eq||(eq=!0,requestAnimationFrame(eH)))}function eY(e,t=!0,n,r){if(t&&eD("before",e),n)eN(e,n,r);else for(let t of eM.values())eN(e,t.store.getState());t&&eD("after",e)}let eU={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function eW(e){let{handlePointer:t}=function(e){function t(e){return e.filter(e=>["Move","Over","Enter","Out","Leave"].some(t=>{var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))}function n(t){let{internal:n}=e.getState();for(let e of n.hovered.values())if(!t.length||!t.find(t=>t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId)){let r=e.eventObject.__r3f;if(n.hovered.delete(K(e)),null!=r&&r.eventCount){let n=r.handlers,i={...e,intersections:t};null==n.onPointerOut||n.onPointerOut(i),null==n.onPointerLeave||n.onPointerLeave(i)}}}function r(e,t){for(let n=0;n<t.length;n++){let r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(i){switch(i){case"onPointerLeave":case"onPointerCancel":return()=>n([]);case"onLostPointerCapture":return t=>{let{internal:r}=e.getState();"pointerId"in t&&r.capturedMap.has(t.pointerId)&&requestAnimationFrame(()=>{r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))})}}return function(o){let{onPointerMissed:a,internal:l}=e.getState();l.lastEvent.current=o;let u="onPointerMove"===i,c="onClick"===i||"onContextMenu"===i||"onDoubleClick"===i,d=function(t,n){let r=e.getState(),i=new Set,o=[],a=n?n(r.internal.interaction):r.internal.interaction;for(let e=0;e<a.length;e++){let t=L(a[e]);t&&(t.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);let l=a.flatMap(function(e){let n=L(e);if(!n||!n.events.enabled||null===n.raycaster.camera)return[];if(void 0===n.raycaster.camera){var r;null==n.events.compute||n.events.compute(t,n,null==(r=n.previousRoot)?void 0:r.getState()),void 0===n.raycaster.camera&&(n.raycaster.camera=null)}return n.raycaster.camera?n.raycaster.intersectObject(e,!0):[]}).sort((e,t)=>{let n=L(e.object),r=L(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance}).filter(e=>{let t=K(e);return!i.has(t)&&(i.add(t),!0)});for(let e of(r.events.filter&&(l=r.events.filter(l,r)),l)){let t=e.object;for(;t;){var s;null!=(s=t.__r3f)&&s.eventCount&&o.push({...e,eventObject:t}),t=t.parent}}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId))for(let e of r.internal.capturedMap.get(t.pointerId).values())i.has(K(e.intersection))||o.push(e.intersection);return o}(o,u?t:void 0),f=c?function(t){let{internal:n}=e.getState(),r=t.offsetX-n.initialClick[0],i=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(o):0;"onPointerDown"===i&&(l.initialClick=[o.offsetX,o.offsetY],l.initialHits=d.map(e=>e.eventObject)),c&&!d.length&&f<=2&&(r(o,l.interaction),a&&a(o)),u&&n(d),!function(e,t,r,i){if(e.length){let o={stopped:!1};for(let a of e){let l=L(a.object);if(l||a.object.traverseAncestors(e=>{let t=L(e);if(t)return l=t,!1}),l){let{raycaster:u,pointer:c,camera:d,internal:f}=l,p=new s.Pq0(c.x,c.y,0).unproject(d),h=e=>{var t,n;return null!=(t=null==(n=f.capturedMap.get(e))?void 0:n.has(a.eventObject))&&t},m=e=>{let n={intersection:a,target:t.target};f.capturedMap.has(e)?f.capturedMap.get(e).set(a.eventObject,n):f.capturedMap.set(e,new Map([[a.eventObject,n]])),t.target.setPointerCapture(e)},v=e=>{let t=f.capturedMap.get(e);t&&J(f.capturedMap,a.eventObject,t,e)},g={};for(let e in t){let n=t[e];"function"!=typeof n&&(g[e]=n)}let b={...a,...g,pointer:c,intersections:e,stopped:o.stopped,delta:r,unprojectedPoint:p,ray:u.ray,camera:d,stopPropagation(){let r="pointerId"in t&&f.capturedMap.get(t.pointerId);(!r||r.has(a.eventObject))&&(b.stopped=o.stopped=!0,f.hovered.size&&Array.from(f.hovered.values()).find(e=>e.eventObject===a.eventObject)&&n([...e.slice(0,e.indexOf(a)),a]))},target:{hasPointerCapture:h,setPointerCapture:m,releasePointerCapture:v},currentTarget:{hasPointerCapture:h,setPointerCapture:m,releasePointerCapture:v},nativeEvent:t};if(i(b),!0===o.stopped)break}}}}(d,o,f,function(e){let t=e.eventObject,n=t.__r3f;if(!(null!=n&&n.eventCount))return;let a=n.handlers;if(u){if(a.onPointerOver||a.onPointerEnter||a.onPointerOut||a.onPointerLeave){let t=K(e),n=l.hovered.get(t);n?n.stopped&&e.stopPropagation():(l.hovered.set(t,e),null==a.onPointerOver||a.onPointerOver(e),null==a.onPointerEnter||a.onPointerEnter(e))}null==a.onPointerMove||a.onPointerMove(e)}else{let n=a[i];n?(!c||l.initialHits.includes(t))&&(r(o,l.interaction.filter(e=>!l.initialHits.includes(e))),n(e)):c&&l.initialHits.includes(t)&&r(o,l.interaction.filter(e=>!l.initialHits.includes(e)))}})}}}}(e);return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-(2*(e.offsetY/t.size.height))+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(eU).reduce((e,n)=>({...e,[n]:t(n)}),{}),update:()=>{var t;let{events:n,internal:r}=e.getState();null!=(t=r.lastEvent)&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{let{set:n,events:r}=e.getState();if(null==r.disconnect||r.disconnect(),n(e=>({events:{...e.events,connected:t}})),r.handlers)for(let e in r.handlers){let n=r.handlers[e],[i,o]=eU[e];t.addEventListener(i,n,{passive:o})}},disconnect:()=>{let{set:t,events:n}=e.getState();if(n.connected){if(n.handlers)for(let e in n.handlers){let t=n.handlers[e],[r]=eU[e];n.connected.removeEventListener(r,t)}t(e=>({events:{...e.events,connected:void 0}}))}}}}},1275:(e,t,n)=>{n.d(t,{X:()=>o});var r=n(2115),i=n(2712);function o(e){let[t,n]=r.useState(void 0);return(0,i.N)(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,i;if(!Array.isArray(t)||!t.length)return;let o=t[0];if("borderBoxSize"in o){let e=o.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,i=t.blockSize}else r=e.offsetWidth,i=e.offsetHeight;n({width:r,height:i})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}},1414:(e,t,n)=>{n.d(t,{c:()=>i});var r=n(2115);function i(e){let t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>(...e)=>t.current?.(...e),[])}},1421:(e,t,n)=>{n.d(t,{Xc:()=>eh,AQ:()=>ee,Ux:()=>ey});var r=n(618),i=n(544),o=n(2115),a=n(3264),l=n(228);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){!function(e,t,n){var r;(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let c=new a.PTz;new a.O9p;let d=new a.Pq0;new a.B69;let f=new a.kn4,p=new a.Pq0,h=new a.PTz,m=new a.Pq0,v=e=>{let[t,n,r]=e;return new a.Pq0(t,n,r)},g=({x:e,y:t,z:n,w:r})=>c.set(e,t,n,r),b=e=>Array.isArray(e)?new r.Vector3(e[0],e[1],e[2]):"number"==typeof e?new r.Vector3(e,e,e):new r.Vector3(e.x,e.y,e.z),y={fixed:1,dynamic:0,kinematicPosition:2,kinematicVelocity:3},w=e=>y[e],x=(e,t)=>{let n=Array.from(e);for(let r=0;r<e.length/3;r++)n[3*r]*=t.x,n[3*r+1]*=t.y,n[3*r+2]*=t.z;return n},E=e=>e?e instanceof a.PTz?[e.x,e.y,e.z,e.w]:e instanceof a.Pq0||e instanceof a.O9p?[e.x,e.y,e.z]:Array.isArray(e)?e:[e]:[0];function j(e){let t=(0,o.useRef)(void 0);return void 0===t.current&&(t.current={value:"function"==typeof e?e():e}),t.current.value}let P=e=>{let t=(0,o.useRef)(e),n=(0,o.useRef)(0),r=(0,o.useRef)(0);(0,o.useEffect)(()=>{t.current=e},[e]),(0,o.useEffect)(()=>{let e=()=>{let i=performance.now(),o=i-r.current;n.current=requestAnimationFrame(e),t.current(o/1e3),r.current=i};return n.current=requestAnimationFrame(e),()=>cancelAnimationFrame(n.current)},[])},_=({onStep:e,updatePriority:t})=>((0,i.C)((t,n)=>{e(n)},t),null),C=({onStep:e})=>(P(t=>{e(t)}),null);var S=(0,o.memo)(({onStep:e,type:t,updatePriority:n})=>"independent"===t?o.createElement(C,{onStep:e}):o.createElement(_,{onStep:e,updatePriority:n}));function M(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}let O=["mass","linearDamping","angularDamping","type","onCollisionEnter","onCollisionExit","onIntersectionEnter","onIntersectionExit","onContactForce","children","canSleep","ccd","gravityScale","softCcdPrediction","ref"],A=(e,t,n)=>{let r=t.slice();if("heightfield"===e){let e=r[3];return e.x*=n.x,e.x*=n.y,e.x*=n.z,r}if("trimesh"===e||"convexHull"===e)return r[0]=x(r[0],n),r;let i=[n.x,n.y,n.z,n.x,n.x];return r.map((e,t)=>i[t]*e)},k=(e,t,n,i)=>{let o=A(e.shape,e.args,n),a=r.ColliderDesc[e.shape](...o);return t.createCollider(a,null==i?void 0:i())},R=["shape","args"],T="Please pick ONLY ONE of the `density`, `mass` and `massProperties` options.",I=(e,t)=>{if(void 0!==t.density){if(void 0!==t.mass||void 0!==t.massProperties)throw Error(T);e.setDensity(t.density);return}if(void 0!==t.mass){if(void 0!==t.massProperties)throw Error(T);e.setMass(t.mass);return}void 0!==t.massProperties&&e.setMassProperties(t.massProperties.mass,t.massProperties.centerOfMass,t.massProperties.principalAngularInertia,t.massProperties.angularInertiaLocalFrame)},z={sensor:(e,t)=>{e.setSensor(t)},collisionGroups:(e,t)=>{e.setCollisionGroups(t)},solverGroups:(e,t)=>{e.setSolverGroups(t)},friction:(e,t)=>{e.setFriction(t)},frictionCombineRule:(e,t)=>{e.setFrictionCombineRule(t)},restitution:(e,t)=>{e.setRestitution(t)},restitutionCombineRule:(e,t)=>{e.setRestitutionCombineRule(t)},activeCollisionTypes:(e,t)=>{e.setActiveCollisionTypes(t)},contactSkin:(e,t)=>{e.setContactSkin(t)},quaternion:()=>{},position:()=>{},rotation:()=>{},scale:()=>{}},L=Object.keys(z),F=(e,t,n)=>{let r=n.get(e.handle);if(r){var i;let n=r.object.parent.getWorldScale(d),o=null===(i=r.worldParent)||void 0===i?void 0:i.matrixWorld.clone().invert();r.object.updateWorldMatrix(!0,!1),f.copy(r.object.matrixWorld),o&&f.premultiply(o),f.decompose(p,h,m),e.parent()?(e.setTranslationWrtParent({x:p.x*n.x,y:p.y*n.y,z:p.z*n.z}),e.setRotationWrtParent(h)):(e.setTranslation({x:p.x*n.x,y:p.y*n.y,z:p.z*n.z}),e.setRotation(h)),L.forEach(n=>{if(n in t){let r=t[n];z[n](e,r,t)}}),I(e,t)}},D=(e,t,n)=>{let r=(0,o.useMemo)(()=>L.flatMap(e=>E(t[e])),[t]);(0,o.useEffect)(()=>{F(e(),t,n)},[...r,e])},N=e=>{let t=!1;return e.traverseAncestors(e=>{"MeshCollider"===e.userData.r3RapierType&&(t=!0)}),t},q=(e,t,n)=>({collider:e,worldParent:n||void 0,object:t}),V={cuboid:"cuboid",ball:"ball",hull:"convexHull",trimesh:"trimesh"},H=({object:e,ignoreMeshColliders:t=!0,options:n})=>{let r=[];e.updateWorldMatrix(!0,!1);let i=e.matrixWorld.clone().invert(),o=e=>{if("isMesh"in e){if(t&&N(e))return;let o=e.getWorldScale(m),l=V[n.colliders||"cuboid"];e.updateWorldMatrix(!0,!1),f.copy(e.matrixWorld).premultiply(i).decompose(p,h,m);let s=new a.O9p().setFromQuaternion(h,"XYZ"),{geometry:c}=e,{args:d,offset:v}=B(c,n.colliders||"cuboid"),g=u(u({},W(n)),{},{args:d,shape:l,rotation:[s.x,s.y,s.z],position:[p.x+v.x*o.x,p.y+v.y*o.y,p.z+v.z*o.z],scale:[o.x,o.y,o.z]});r.push(g)}};return n.includeInvisible?e.traverse(o):e.traverseVisible(o),r},B=(e,t)=>{switch(t){case"cuboid":{e.computeBoundingBox();let{boundingBox:t}=e,n=t.getSize(new a.Pq0);return{args:[n.x/2,n.y/2,n.z/2],offset:t.getCenter(new a.Pq0)}}case"ball":{e.computeBoundingSphere();let{boundingSphere:t}=e;return{args:[t.radius],offset:t.center}}case"trimesh":{var n;let t=e.index?e.clone():function(e,t=1e-4){t=Math.max(t,Number.EPSILON);let n={},r=e.getIndex(),i=e.getAttribute("position"),o=r?r.count:i.count,l=0,s=Object.keys(e.attributes),u={},c={},d=[],f=["getX","getY","getZ","getW"];for(let t=0,n=s.length;t<n;t++){let n=s[t];u[n]=[];let r=e.morphAttributes[n];r&&(c[n]=Array(r.length).fill(0).map(()=>[]))}let p=Math.pow(10,Math.log10(1/t));for(let t=0;t<o;t++){let i=r?r.getX(t):t,o="";for(let t=0,n=s.length;t<n;t++){let n=s[t],r=e.getAttribute(n),a=r.itemSize;for(let e=0;e<a;e++)o+=`${~~(r[f[e]](i)*p)},`}if(o in n)d.push(n[o]);else{for(let t=0,n=s.length;t<n;t++){let n=s[t],r=e.getAttribute(n),o=e.morphAttributes[n],a=r.itemSize,l=u[n],d=c[n];for(let e=0;e<a;e++){let t=f[e];if(l.push(r[t](i)),o)for(let e=0,n=o.length;e<n;e++)d[e].push(o[e][t](i))}}n[o]=l,d.push(l),l++}}let h=e.clone();for(let t=0,n=s.length;t<n;t++){let n=s[t],r=e.getAttribute(n),i=new r.array.constructor(u[n]),o=new a.THS(i,r.itemSize,r.normalized);if(h.setAttribute(n,o),n in c)for(let t=0;t<c[n].length;t++){let r=e.morphAttributes[n][t],i=new r.array.constructor(c[n][t]),o=new a.THS(i,r.itemSize,r.normalized);h.morphAttributes[n][t]=o}}return h.setIndex(d),h}(e);return{args:[t.attributes.position.array,null===(n=t.index)||void 0===n?void 0:n.array],offset:new a.Pq0}}case"hull":return{args:[e.clone().attributes.position.array],offset:new a.Pq0}}return{args:[],offset:new a.Pq0}},Y=e=>({collision:!!(null!=e&&e.onCollisionEnter||null!=e&&e.onCollisionExit||null!=e&&e.onIntersectionEnter||null!=e&&e.onIntersectionExit),contactForce:!!(null!=e&&e.onContactForce)}),U=(e,t,n,i={})=>{let{onCollisionEnter:a,onCollisionExit:l,onIntersectionEnter:s,onIntersectionExit:u,onContactForce:c}=t;(0,o.useEffect)(()=>{let o=e();if(o){let{collision:e,contactForce:d}=Y(t),f=e||i.collision,p=d||i.contactForce;f&&p?o.setActiveEvents(r.ActiveEvents.COLLISION_EVENTS|r.ActiveEvents.CONTACT_FORCE_EVENTS):f?o.setActiveEvents(r.ActiveEvents.COLLISION_EVENTS):p&&o.setActiveEvents(r.ActiveEvents.CONTACT_FORCE_EVENTS),n.set(o.handle,{onCollisionEnter:a,onCollisionExit:l,onIntersectionEnter:s,onIntersectionExit:u,onContactForce:c})}return()=>{o&&n.delete(o.handle)}},[a,l,s,u,c,i])},W=(e={})=>M(e,O),$=()=>{let e=(0,o.useContext)(G);if(!e)throw Error("react-three-rapier: useRapier must be used within <Physics />!");return e},X=(e,t,n=!0)=>{let[r,i]=(0,o.useState)([]);return(0,o.useEffect)(()=>{e.current&&!1!==t.colliders&&i(H({object:e.current,options:t,ignoreMeshColliders:n}))},[t.colliders]),r},Z=(0,o.memo)(()=>{let{world:e}=$(),t=(0,o.useRef)(null);return(0,i.C)(()=>{let n=t.current;if(!n)return;let r=e.debugRender(),i=new a.LoY;i.setAttribute("position",new a.THS(r.vertices,3)),i.setAttribute("color",new a.THS(r.colors,4)),n.geometry.dispose(),n.geometry=i}),o.createElement("group",null,o.createElement("lineSegments",{ref:t,frustumCulled:!1},o.createElement("lineBasicMaterial",{color:0xffffff,vertexColors:!0}),o.createElement("bufferGeometry",null)))}),Q=e=>{let t;return{proxy:new Proxy({},{get:(n,r)=>(t||(t=e()),Reflect.get(t,r)),set:(n,r,i)=>(t||(t=e()),Reflect.set(t,r,i))}),reset:()=>{t=void 0},set:e=>{t=e}}},G=(0,o.createContext)(void 0),K=(e,t)=>{var n,r,i,o,a,l;return{target:{rigidBody:e.rigidBody.object,collider:e.collider.object,colliderObject:null===(n=e.collider.state)||void 0===n?void 0:n.object,rigidBodyObject:null===(r=e.rigidBody.state)||void 0===r?void 0:r.object},other:{rigidBody:t.rigidBody.object,collider:t.collider.object,colliderObject:null===(i=t.collider.state)||void 0===i?void 0:i.object,rigidBodyObject:null===(o=t.rigidBody.state)||void 0===o?void 0:o.object},rigidBody:t.rigidBody.object,collider:t.collider.object,colliderObject:null===(a=t.collider.state)||void 0===a?void 0:a.object,rigidBodyObject:null===(l=t.rigidBody.state)||void 0===l?void 0:l.object}},J=async()=>{let e=await Promise.resolve().then(n.bind(n,618));return await e.init(),e},ee=e=>{let{colliders:t="cuboid",children:n,timeStep:s=1/60,paused:c=!1,interpolate:d=!0,updatePriority:y,updateLoop:w="follow",debug:x=!1,gravity:E=[0,-9.81,0],allowedLinearError:P=.001,predictionDistance:_=.002,numSolverIterations:C=4,numAdditionalFrictionIterations:M=4,numInternalPgsIterations:O=1,minIslandSize:A=128,maxCcdSubsteps:k=1,contactNaturalFrequency:R=30,lengthUnit:T=1}=e,I=(0,l.DY)(J,["@react-thee/rapier",J]),{invalidate:z}=(0,i.A)(),L=j(()=>new Map),F=j(()=>new Map),D=j(()=>new Map),N=j(()=>new Map),q=j(()=>new r.EventQueue(!1)),V=j(()=>new Set),H=j(()=>new Set),{proxy:B,reset:Y,set:U}=j(()=>Q(()=>new I.World(v(E))));(0,o.useEffect)(()=>()=>{B.free(),Y()},[]),(0,o.useEffect)(()=>{B.gravity=b(E),B.integrationParameters.numSolverIterations=C,B.integrationParameters.numAdditionalFrictionIterations=M,B.integrationParameters.numInternalPgsIterations=O,B.integrationParameters.normalizedAllowedLinearError=P,B.integrationParameters.minIslandSize=A,B.integrationParameters.maxCcdSubsteps=k,B.integrationParameters.normalizedPredictionDistance=_,B.lengthUnit=T,B.integrationParameters.contact_natural_frequency=R},[B,...E,C,M,O,P,A,k,_,T,R]);let W=(0,o.useCallback)(e=>{var t;let n=B.getCollider(e),r=N.get(e),i=F.get(e),o=null==n?void 0:null===(t=n.parent())||void 0===t?void 0:t.handle,a=void 0!==o?B.getRigidBody(o):void 0,l=a&&void 0!==o?D.get(o):void 0;return{collider:{object:n,events:r,state:i},rigidBody:{object:a,events:l,state:void 0!==o?L.get(o):void 0}}},[]),[$]=(0,o.useState)({previousState:{},accumulator:0}),X=(0,o.useCallback)(e=>{let t="vary"===s,n=a.cj9.clamp(e,0,.5),r=e=>{V.forEach(e=>{e.current(B)}),B.timestep=e,B.step(q),H.forEach(e=>{e.current(B)})};if(t)r(n);else for($.accumulator+=n;$.accumulator>=s;)d&&($.previousState={},B.forEachRigidBody(e=>{$.previousState[e.handle]={position:e.translation(),rotation:e.rotation()}})),r(s),$.accumulator-=s;let i=t||!d||c?1:$.accumulator/s;L.forEach((e,t)=>{let n=B.getRigidBody(t),r=D.get(t);if(null!=r&&r.onSleep||null!=r&&r.onWake){var o,a;n.isSleeping()&&!e.isSleeping&&(null==r||null===(o=r.onSleep)||void 0===o||o.call(r)),!n.isSleeping()&&e.isSleeping&&(null==r||null===(a=r.onWake)||void 0===a||a.call(r)),e.isSleeping=n.isSleeping()}if(!n||n.isSleeping()&&!("isInstancedMesh"in e.object)||!e.setMatrix)return;let l=n.translation(),s=n.rotation(),u=$.previousState[t];u&&(f.compose(u.position,g(u.rotation),e.scale).premultiply(e.invertedWorldMatrix).decompose(p,h,m),"mesh"==e.meshType&&(e.object.position.copy(p),e.object.quaternion.copy(h))),f.compose(l,g(s),e.scale).premultiply(e.invertedWorldMatrix).decompose(p,h,m),"instancedMesh"==e.meshType?e.setMatrix(f):(e.object.position.lerp(p,i),e.object.quaternion.slerp(h,i))}),q.drainCollisionEvents((e,t,n)=>{var r,i,o,a,l,s,c,d,f,p,h,m,v,g,b,y,w,x,E,j,P,_,C,S;let M=W(e),O=W(t);if(!(null!=M&&M.collider.object)||!(null!=O&&O.collider.object))return;let A=K(M,O),k=K(O,M);n?B.contactPair(M.collider.object,O.collider.object,(e,t)=>{var n,r,i,o,a,l,s,c;null===(n=M.rigidBody.events)||void 0===n||null===(r=n.onCollisionEnter)||void 0===r||r.call(n,u(u({},A),{},{manifold:e,flipped:t})),null===(i=O.rigidBody.events)||void 0===i||null===(o=i.onCollisionEnter)||void 0===o||o.call(i,u(u({},k),{},{manifold:e,flipped:t})),null===(a=M.collider.events)||void 0===a||null===(l=a.onCollisionEnter)||void 0===l||l.call(a,u(u({},A),{},{manifold:e,flipped:t})),null===(s=O.collider.events)||void 0===s||null===(c=s.onCollisionEnter)||void 0===c||c.call(s,u(u({},k),{},{manifold:e,flipped:t}))}):(null===(r=M.rigidBody.events)||void 0===r||null===(i=r.onCollisionExit)||void 0===i||i.call(r,A),null===(o=O.rigidBody.events)||void 0===o||null===(a=o.onCollisionExit)||void 0===a||a.call(o,k),null===(l=M.collider.events)||void 0===l||null===(s=l.onCollisionExit)||void 0===s||s.call(l,A),null===(c=O.collider.events)||void 0===c||null===(d=c.onCollisionExit)||void 0===d||d.call(c,k)),n?B.intersectionPair(M.collider.object,O.collider.object)&&(null===(f=M.rigidBody.events)||void 0===f||null===(p=f.onIntersectionEnter)||void 0===p||p.call(f,A),null===(h=O.rigidBody.events)||void 0===h||null===(m=h.onIntersectionEnter)||void 0===m||m.call(h,k),null===(v=M.collider.events)||void 0===v||null===(g=v.onIntersectionEnter)||void 0===g||g.call(v,A),null===(b=O.collider.events)||void 0===b||null===(y=b.onIntersectionEnter)||void 0===y||y.call(b,k)):(null===(w=M.rigidBody.events)||void 0===w||null===(x=w.onIntersectionExit)||void 0===x||x.call(w,A),null===(E=O.rigidBody.events)||void 0===E||null===(j=E.onIntersectionExit)||void 0===j||j.call(E,k),null===(P=M.collider.events)||void 0===P||null===(_=P.onIntersectionExit)||void 0===_||_.call(P,A),null===(C=O.collider.events)||void 0===C||null===(S=C.onIntersectionExit)||void 0===S||S.call(C,k))}),q.drainContactForceEvents(e=>{var t,n,r,i,o,a,l,s;let c=W(e.collider1()),d=W(e.collider2());if(!(null!=c&&c.collider.object)||!(null!=d&&d.collider.object))return;let f=K(c,d),p=K(d,c);null===(t=c.rigidBody.events)||void 0===t||null===(n=t.onContactForce)||void 0===n||n.call(t,u(u({},f),{},{totalForce:e.totalForce(),totalForceMagnitude:e.totalForceMagnitude(),maxForceDirection:e.maxForceDirection(),maxForceMagnitude:e.maxForceMagnitude()})),null===(r=d.rigidBody.events)||void 0===r||null===(i=r.onContactForce)||void 0===i||i.call(r,u(u({},p),{},{totalForce:e.totalForce(),totalForceMagnitude:e.totalForceMagnitude(),maxForceDirection:e.maxForceDirection(),maxForceMagnitude:e.maxForceMagnitude()})),null===(o=c.collider.events)||void 0===o||null===(a=o.onContactForce)||void 0===a||a.call(o,u(u({},f),{},{totalForce:e.totalForce(),totalForceMagnitude:e.totalForceMagnitude(),maxForceDirection:e.maxForceDirection(),maxForceMagnitude:e.maxForceMagnitude()})),null===(l=d.collider.events)||void 0===l||null===(s=l.onContactForce)||void 0===s||s.call(l,u(u({},p),{},{totalForce:e.totalForce(),totalForceMagnitude:e.totalForceMagnitude(),maxForceDirection:e.maxForceDirection(),maxForceMagnitude:e.maxForceMagnitude()}))}),B.forEachActiveRigidBody(()=>{z()})},[c,s,d,B]),ee=(0,o.useMemo)(()=>({rapier:I,world:B,setWorld:e=>{U(e)},physicsOptions:{colliders:t,gravity:E},rigidBodyStates:L,colliderStates:F,rigidBodyEvents:D,colliderEvents:N,beforeStepCallbacks:V,afterStepCallbacks:H,isPaused:c,isDebug:x,step:X}),[c,X,x,t,E]),et=(0,o.useCallback)(e=>{c||X(e)},[c,X]);return o.createElement(G.Provider,{value:ee},o.createElement(S,{onStep:et,type:w,updatePriority:y}),x&&o.createElement(Z,null),n)};function et(){return(et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}let en=(e,t=null)=>{let n=(0,o.useRef)(t);return e&&"function"!=typeof e?(e.current||(e.current=n.current),e):n},er=(e,t,n)=>{let r=(0,o.useRef)(void 0),i=(0,o.useCallback)(()=>(r.current||(r.current=e()),r.current),n);return(0,o.useEffect)(()=>{let e=i(),n=()=>t(e);return()=>{n(),r.current=void 0}},[i]),i},ei=e=>{var t;let n=w((null==e?void 0:e.type)||"dynamic"),i=new r.RigidBodyDesc(n);return i.canSleep=null===(t=null==e?void 0:e.canSleep)||void 0===t||t,i},eo=({rigidBody:e,object:t,setMatrix:n,getMatrix:r,worldScale:i,meshType:o="mesh"})=>{t.updateWorldMatrix(!0,!1);let a=t.parent.matrixWorld.clone().invert();return{object:t,rigidBody:e,invertedWorldMatrix:a,setMatrix:n||(e=>{t.matrix.copy(e)}),getMatrix:r||(e=>e.copy(t.matrix)),scale:i||t.getWorldScale(m).clone(),isSleeping:!1,meshType:o}},ea=["args","colliders","canSleep"],el={gravityScale:(e,t)=>{e.setGravityScale(t,!0)},additionalSolverIterations(e,t){e.setAdditionalSolverIterations(t)},linearDamping:(e,t)=>{e.setLinearDamping(t)},angularDamping:(e,t)=>{e.setAngularDamping(t)},dominanceGroup:(e,t)=>{e.setDominanceGroup(t)},enabledRotations:(e,[t,n,r])=>{e.setEnabledRotations(t,n,r,!0)},enabledTranslations:(e,[t,n,r])=>{e.setEnabledTranslations(t,n,r,!0)},lockRotations:(e,t)=>{e.lockRotations(t,!0)},lockTranslations:(e,t)=>{e.lockTranslations(t,!0)},angularVelocity:(e,[t,n,r])=>{e.setAngvel({x:t,y:n,z:r},!0)},linearVelocity:(e,[t,n,r])=>{e.setLinvel({x:t,y:n,z:r},!0)},ccd:(e,t)=>{e.enableCcd(t)},softCcdPrediction:(e,t)=>{e.setSoftCcdPrediction(t)},userData:(e,t)=>{e.userData=t},type(e,t){e.setBodyType(w(t),!0)},position:()=>{},rotation:()=>{},quaternion:()=>{},scale:()=>{}},es=Object.keys(el),eu=(e,t,n,r=!0)=>{if(!e)return;let i=n.get(e.handle);i&&(r&&(i.object.updateWorldMatrix(!0,!1),f.copy(i.object.matrixWorld).decompose(p,h,m),e.setTranslation(p,!1),e.setRotation(h,!1)),es.forEach(n=>{n in t&&el[n](e,t[n])}))},ec=(e,t,n,r=!0)=>{let i=(0,o.useMemo)(()=>es.flatMap(e=>E(t[e])),[t]);(0,o.useEffect)(()=>{eu(e(),t,n,r)},i)},ed=(e,t,n)=>{let{onWake:r,onSleep:i,onCollisionEnter:a,onCollisionExit:l,onIntersectionEnter:s,onIntersectionExit:u,onContactForce:c}=t,d={onWake:r,onSleep:i,onCollisionEnter:a,onCollisionExit:l,onIntersectionEnter:s,onIntersectionExit:u,onContactForce:c};(0,o.useEffect)(()=>{let t=e();return n.set(t.handle,d),()=>{n.delete(t.handle)}},[r,i,a,l,s,u,c])},ef=({x:e,y:t,z:n}={x:0,y:0,z:0})=>new a.Pq0(e,t,n),ep=(0,o.memo)(e=>{let{children:t,position:n,rotation:r,quaternion:i,scale:a,name:l}=e,{world:s,colliderEvents:c,colliderStates:d}=$(),f=eb(),p=en(e.ref),h=(0,o.useRef)(null),m=er(()=>{let t=k(e,s,h.current.getWorldScale(ef()),null==f?void 0:f.getRigidBody);return"function"==typeof e.ref&&e.ref(t),p.current=t,t},e=>{s.getCollider(e.handle)&&s.removeCollider(e,!0)},[...R.flatMap(t=>Array.isArray(e[t])?e[t]:[e[t]]),f]);(0,o.useEffect)(()=>{let e=m();return d.set(e.handle,q(e,h.current,null==f?void 0:f.ref.current)),()=>{d.delete(e.handle)}},[m]);let v=(0,o.useMemo)(()=>u(u({},W(null==f?void 0:f.options)),e),[e,null==f?void 0:f.options]);return D(m,v,d),U(m,v,c,Y(null==f?void 0:f.options)),o.createElement("object3D",{position:n,rotation:r,quaternion:i,scale:a,ref:h,name:l},t)}),eh=o.forwardRef((e,t)=>o.createElement(ep,et({},e,{shape:"cuboid",ref:t})));eh.displayName="CuboidCollider",o.forwardRef((e,t)=>o.createElement(ep,et({},e,{shape:"roundCuboid",ref:t}))).displayName="RoundCuboidCollider",o.forwardRef((e,t)=>o.createElement(ep,et({},e,{shape:"ball",ref:t}))).displayName="BallCollider",o.forwardRef((e,t)=>o.createElement(ep,et({},e,{shape:"capsule",ref:t}))).displayName="CapsuleCollider",o.forwardRef((e,t)=>o.createElement(ep,et({},e,{shape:"heightfield",ref:t}))).displayName="HeightfieldCollider",o.forwardRef((e,t)=>o.createElement(ep,et({},e,{shape:"trimesh",ref:t}))).displayName="TrimeshCollider",o.forwardRef((e,t)=>o.createElement(ep,et({},e,{shape:"cone",ref:t}))).displayName="ConeCollider",o.forwardRef((e,t)=>o.createElement(ep,et({},e,{shape:"roundCone",ref:t}))).displayName="RoundConeCollider";let em=o.forwardRef((e,t)=>o.createElement(ep,et({},e,{shape:"cylinder",ref:t})));em.displayName="CylinderCollider",em.displayName="RoundCylinderCollider",o.forwardRef((e,t)=>o.createElement(ep,et({},e,{shape:"convexHull",ref:t}))).displayName="ConvexHullCollider";let ev=["ref","children","type","position","rotation","scale","quaternion","transformState"],eg=(0,o.createContext)(void 0),eb=()=>(0,o.useContext)(eg),ey=(0,o.memo)(e=>{let{ref:t,children:n,type:r,position:i,rotation:a,scale:l,quaternion:s,transformState:c}=e,d=M(e,ev),f=(0,o.useRef)(null),p=en(t),{world:h,rigidBodyStates:m,physicsOptions:v,rigidBodyEvents:g}=$(),b=(0,o.useMemo)(()=>u(u(u({},v),e),{},{children:void 0}),[v,e]),y=ea.flatMap(e=>Array.isArray(b[e])?[...b[e]]:b[e]),w=X(f,b),x=er(()=>{let e=ei(b),n=h.createRigidBody(e);return"function"==typeof t&&t(n),p.current=n,n},e=>{h.getRigidBody(e.handle)&&h.removeRigidBody(e)},y);(0,o.useEffect)(()=>{let t=x(),n=eo({rigidBody:t,object:f.current});return m.set(t.handle,e.transformState?e.transformState(n):n),()=>{m.delete(t.handle)}},[x]),ec(x,b,m),ed(x,b,g);let E=(0,o.useMemo)(()=>({ref:f,getRigidBody:x,options:b}),[x]);return o.createElement(eg.Provider,{value:E},o.createElement("object3D",et({ref:f},d,{position:i,rotation:a,quaternion:s,scale:l}),n,w.map((e,t)=>o.createElement(ep,et({key:t},e)))))});ey.displayName="RigidBody",(0,o.memo)(e=>{let{children:t,type:n}=e,{physicsOptions:r}=$(),i=(0,o.useRef)(null),{options:a}=eb(),l=X(i,(0,o.useMemo)(()=>u(u(u({},r),a),{},{children:void 0,colliders:n}),[r,a]),!1);return o.createElement("object3D",{ref:i,userData:{r3RapierType:"MeshCollider"}},t,l.map((e,t)=>o.createElement(ep,et({key:t},e))))}).displayName="MeshCollider";let ew=["ref"],ex=["children","instances","colliderNodes","position","rotation","quaternion","scale"];(0,o.memo)(e=>{let{ref:t}=e,n=M(e,ew),r=en(t,[]),i=(0,o.useRef)(null),l=(0,o.useRef)(null),{children:s,instances:c,colliderNodes:d=[],position:f,rotation:p,quaternion:h,scale:m}=n,v=M(n,ex),g=X(i,u(u({},n),{},{children:void 0})),b=()=>{let e=l.current.children[0];if(e&&"isInstancedMesh"in e)return e};(0,o.useEffect)(()=>{let e=b();e?e.instanceMatrix.setUsage(a.Vnu):console.warn("InstancedRigidBodies expects exactly one child, which must be an InstancedMesh")},[]);let y=(e,t)=>{let n=b();return n?u(u({},e),{},{getMatrix:e=>(n.getMatrixAt(t,e),e),setMatrix:e=>{n.setMatrixAt(t,e),n.instanceMatrix.needsUpdate=!0},meshType:"instancedMesh"}):e};return o.createElement("object3D",et({ref:i},v,{position:f,rotation:p,quaternion:h,scale:m}),o.createElement("object3D",{ref:l},s),null==c?void 0:c.map((e,t)=>o.createElement(ey,et({},v,e,{ref:e=>{r.current[t]=e},transformState:e=>y(e,t)}),o.createElement(o.Fragment,null,d.map((e,t)=>o.createElement(o.Fragment,{key:t},e)),g.map((e,t)=>o.createElement(ep,et({key:t},e)))))))}).displayName="InstancedRigidBodies"},1933:(e,t,n)=>{e.exports=n(6500)},2407:(e,t,n)=>{e.exports=n(6892)},2436:(e,t,n)=>{var r=n(2115),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,a=r.useEffect,l=r.useLayoutEffect,s=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return l(function(){i.value=n,i.getSnapshot=t,u(i)&&c({inst:i})},[e,n,t]),a(function(){return u(i)&&c({inst:i}),e(function(){u(i)&&c({inst:i})})},[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},2712:(e,t,n)=>{n.d(t,{N:()=>i});var r=n(2115),i=globalThis?.document?r.useLayoutEffect:()=>{}},2797:(e,t,n)=>{n.d(t,{b:()=>s});var r=n(2115);n(7650);var i=n(6634),o=n(5155),a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let n=r.forwardRef((e,n)=>{let{asChild:r,...a}=e,l=r?i.DX:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,o.jsx)(l,{...a,ref:n})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),l=r.forwardRef((e,t)=>(0,o.jsx)(a.label,{...e,ref:t,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||(null===(n=e.onMouseDown)||void 0===n||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var s=l},4932:(e,t,n)=>{function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}n.d(t,{N:()=>y});var i=n(544),o=n(2115),a=n(3264),l=Object.defineProperty,s=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t,n)=>(s(e,"symbol"!=typeof t?t+"":t,n),n);class c{constructor(){u(this,"_listeners")}addEventListener(e,t){void 0===this._listeners&&(this._listeners={});let n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;let n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;let n=this._listeners[e];if(void 0!==n){let e=n.indexOf(t);-1!==e&&n.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;let t=this._listeners[e.type];if(void 0!==t){e.target=this;let n=t.slice(0);for(let t=0,r=n.length;t<r;t++)n[t].call(this,e);e.target=null}}}var d=Object.defineProperty,f=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t,n)=>(f(e,"symbol"!=typeof t?t+"":t,n),n);let h=new a.RlV,m=new a.Zcv,v=Math.cos(Math.PI/180*70),g=(e,t)=>(e%t+t)%t;class b extends c{constructor(e,t){super(),p(this,"object"),p(this,"domElement"),p(this,"enabled",!0),p(this,"target",new a.Pq0),p(this,"minDistance",0),p(this,"maxDistance",1/0),p(this,"minZoom",0),p(this,"maxZoom",1/0),p(this,"minPolarAngle",0),p(this,"maxPolarAngle",Math.PI),p(this,"minAzimuthAngle",-1/0),p(this,"maxAzimuthAngle",1/0),p(this,"enableDamping",!1),p(this,"dampingFactor",.05),p(this,"enableZoom",!0),p(this,"zoomSpeed",1),p(this,"enableRotate",!0),p(this,"rotateSpeed",1),p(this,"enablePan",!0),p(this,"panSpeed",1),p(this,"screenSpacePanning",!0),p(this,"keyPanSpeed",7),p(this,"zoomToCursor",!1),p(this,"autoRotate",!1),p(this,"autoRotateSpeed",2),p(this,"reverseOrbit",!1),p(this,"reverseHorizontalOrbit",!1),p(this,"reverseVerticalOrbit",!1),p(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),p(this,"mouseButtons",{LEFT:a.kBv.ROTATE,MIDDLE:a.kBv.DOLLY,RIGHT:a.kBv.PAN}),p(this,"touches",{ONE:a.wtR.ROTATE,TWO:a.wtR.DOLLY_PAN}),p(this,"target0"),p(this,"position0"),p(this,"zoom0"),p(this,"_domElementKeyEvents",null),p(this,"getPolarAngle"),p(this,"getAzimuthalAngle"),p(this,"setPolarAngle"),p(this,"setAzimuthalAngle"),p(this,"getDistance"),p(this,"getZoomScale"),p(this,"listenToKeyEvents"),p(this,"stopListenToKeyEvents"),p(this,"saveState"),p(this,"reset"),p(this,"update"),p(this,"connect"),p(this,"dispose"),p(this,"dollyIn"),p(this,"dollyOut"),p(this,"getScale"),p(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=e=>{let t=g(e,2*Math.PI),r=c.phi;r<0&&(r+=2*Math.PI),t<0&&(t+=2*Math.PI);let i=Math.abs(t-r);2*Math.PI-i<i&&(t<r?t+=2*Math.PI:r+=2*Math.PI),d.phi=t-r,n.update()},this.setAzimuthalAngle=e=>{let t=g(e,2*Math.PI),r=c.theta;r<0&&(r+=2*Math.PI),t<0&&(t+=2*Math.PI);let i=Math.abs(t-r);2*Math.PI-i<i&&(t<r?t+=2*Math.PI:r+=2*Math.PI),d.theta=t-r,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=e=>{e.addEventListener("keydown",ee),this._domElementKeyEvents=e},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ee),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(r),n.update(),s=l.NONE},this.update=(()=>{let t=new a.Pq0,i=new a.Pq0(0,1,0),o=new a.PTz().setFromUnitVectors(e.up,i),p=o.clone().invert(),g=new a.Pq0,y=new a.PTz,w=2*Math.PI;return function(){let x=n.object.position;o.setFromUnitVectors(e.up,i),p.copy(o).invert(),t.copy(x).sub(n.target),t.applyQuaternion(o),c.setFromVector3(t),n.autoRotate&&s===l.NONE&&I(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(c.theta+=d.theta*n.dampingFactor,c.phi+=d.phi*n.dampingFactor):(c.theta+=d.theta,c.phi+=d.phi);let E=n.minAzimuthAngle,j=n.maxAzimuthAngle;isFinite(E)&&isFinite(j)&&(E<-Math.PI?E+=w:E>Math.PI&&(E-=w),j<-Math.PI?j+=w:j>Math.PI&&(j-=w),E<=j?c.theta=Math.max(E,Math.min(j,c.theta)):c.theta=c.theta>(E+j)/2?Math.max(E,c.theta):Math.min(j,c.theta)),c.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,c.phi)),c.makeSafe(),!0===n.enableDamping?n.target.addScaledVector(b,n.dampingFactor):n.target.add(b),n.zoomToCursor&&A||n.object.isOrthographicCamera?c.radius=V(c.radius):c.radius=V(c.radius*f),t.setFromSpherical(c),t.applyQuaternion(p),x.copy(n.target).add(t),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),!0===n.enableDamping?(d.theta*=1-n.dampingFactor,d.phi*=1-n.dampingFactor,b.multiplyScalar(1-n.dampingFactor)):(d.set(0,0,0),b.set(0,0,0));let P=!1;if(n.zoomToCursor&&A){let r=null;if(n.object instanceof a.ubm&&n.object.isPerspectiveCamera){let e=t.length();r=V(e*f);let i=e-r;n.object.position.addScaledVector(M,i),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){let e=new a.Pq0(O.x,O.y,0);e.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/f)),n.object.updateProjectionMatrix(),P=!0;let i=new a.Pq0(O.x,O.y,0);i.unproject(n.object),n.object.position.sub(i).add(e),n.object.updateMatrixWorld(),r=t.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;null!==r&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(r).add(n.object.position):(h.origin.copy(n.object.position),h.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(h.direction))<v?e.lookAt(n.target):(m.setFromNormalAndCoplanarPoint(n.object.up,n.target),h.intersectPlane(m,n.target))))}else n.object instanceof a.qUd&&n.object.isOrthographicCamera&&(P=1!==f)&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/f)),n.object.updateProjectionMatrix());return f=1,A=!1,!!(P||g.distanceToSquared(n.object.position)>u||8*(1-y.dot(n.object.quaternion))>u)&&(n.dispatchEvent(r),g.copy(n.object.position),y.copy(n.object.quaternion),P=!1,!0)}})(),this.connect=e=>{n.domElement=e,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",et),n.domElement.addEventListener("pointerdown",Q),n.domElement.addEventListener("pointercancel",K),n.domElement.addEventListener("wheel",J)},this.dispose=()=>{var e,t,r,i,o,a;n.domElement&&(n.domElement.style.touchAction="auto"),null==(e=n.domElement)||e.removeEventListener("contextmenu",et),null==(t=n.domElement)||t.removeEventListener("pointerdown",Q),null==(r=n.domElement)||r.removeEventListener("pointercancel",K),null==(i=n.domElement)||i.removeEventListener("wheel",J),null==(o=n.domElement)||o.ownerDocument.removeEventListener("pointermove",G),null==(a=n.domElement)||a.ownerDocument.removeEventListener("pointerup",K),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",ee)};let n=this,r={type:"change"},i={type:"start"},o={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},s=l.NONE,u=1e-6,c=new a.YHV,d=new a.YHV,f=1,b=new a.Pq0,y=new a.I9Y,w=new a.I9Y,x=new a.I9Y,E=new a.I9Y,j=new a.I9Y,P=new a.I9Y,_=new a.I9Y,C=new a.I9Y,S=new a.I9Y,M=new a.Pq0,O=new a.I9Y,A=!1,k=[],R={};function T(){return Math.pow(.95,n.zoomSpeed)}function I(e){n.reverseOrbit||n.reverseHorizontalOrbit?d.theta+=e:d.theta-=e}function z(e){n.reverseOrbit||n.reverseVerticalOrbit?d.phi+=e:d.phi-=e}let L=(()=>{let e=new a.Pq0;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),b.add(e)}})(),F=(()=>{let e=new a.Pq0;return function(t,r){!0===n.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),b.add(e)}})(),D=(()=>{let e=new a.Pq0;return function(t,r){let i=n.domElement;if(i&&n.object instanceof a.ubm&&n.object.isPerspectiveCamera){let o=n.object.position;e.copy(o).sub(n.target);let a=e.length();L(2*t*(a*=Math.tan(n.object.fov/2*Math.PI/180))/i.clientHeight,n.object.matrix),F(2*r*a/i.clientHeight,n.object.matrix)}else i&&n.object instanceof a.qUd&&n.object.isOrthographicCamera?(L(t*(n.object.right-n.object.left)/n.object.zoom/i.clientWidth,n.object.matrix),F(r*(n.object.top-n.object.bottom)/n.object.zoom/i.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function N(e){n.object instanceof a.ubm&&n.object.isPerspectiveCamera||n.object instanceof a.qUd&&n.object.isOrthographicCamera?f=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function q(e){if(!n.zoomToCursor||!n.domElement)return;A=!0;let t=n.domElement.getBoundingClientRect(),r=e.clientX-t.left,i=e.clientY-t.top,o=t.width,a=t.height;O.x=r/o*2-1,O.y=-(i/a*2)+1,M.set(O.x,O.y,1).unproject(n.object).sub(n.object.position).normalize()}function V(e){return Math.max(n.minDistance,Math.min(n.maxDistance,e))}function H(e){y.set(e.clientX,e.clientY)}function B(e){E.set(e.clientX,e.clientY)}function Y(){if(1==k.length)y.set(k[0].pageX,k[0].pageY);else{let e=.5*(k[0].pageX+k[1].pageX),t=.5*(k[0].pageY+k[1].pageY);y.set(e,t)}}function U(){if(1==k.length)E.set(k[0].pageX,k[0].pageY);else{let e=.5*(k[0].pageX+k[1].pageX),t=.5*(k[0].pageY+k[1].pageY);E.set(e,t)}}function W(){let e=k[0].pageX-k[1].pageX,t=k[0].pageY-k[1].pageY,n=Math.sqrt(e*e+t*t);_.set(0,n)}function $(e){if(1==k.length)w.set(e.pageX,e.pageY);else{let t=er(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);w.set(n,r)}x.subVectors(w,y).multiplyScalar(n.rotateSpeed);let t=n.domElement;t&&(I(2*Math.PI*x.x/t.clientHeight),z(2*Math.PI*x.y/t.clientHeight)),y.copy(w)}function X(e){if(1==k.length)j.set(e.pageX,e.pageY);else{let t=er(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);j.set(n,r)}P.subVectors(j,E).multiplyScalar(n.panSpeed),D(P.x,P.y),E.copy(j)}function Z(e){var t;let r=er(e),i=e.pageX-r.x,o=e.pageY-r.y,a=Math.sqrt(i*i+o*o);C.set(0,a),S.set(0,Math.pow(C.y/_.y,n.zoomSpeed)),t=S.y,N(f/t),_.copy(C)}function Q(e){var t,r,o;!1!==n.enabled&&(0===k.length&&(null==(t=n.domElement)||t.ownerDocument.addEventListener("pointermove",G),null==(r=n.domElement)||r.ownerDocument.addEventListener("pointerup",K)),o=e,k.push(o),"touch"===e.pointerType?function(e){switch(en(e),k.length){case 1:switch(n.touches.ONE){case a.wtR.ROTATE:if(!1===n.enableRotate)return;Y(),s=l.TOUCH_ROTATE;break;case a.wtR.PAN:if(!1===n.enablePan)return;U(),s=l.TOUCH_PAN;break;default:s=l.NONE}break;case 2:switch(n.touches.TWO){case a.wtR.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&W(),n.enablePan&&U(),s=l.TOUCH_DOLLY_PAN;break;case a.wtR.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&W(),n.enableRotate&&Y(),s=l.TOUCH_DOLLY_ROTATE;break;default:s=l.NONE}break;default:s=l.NONE}s!==l.NONE&&n.dispatchEvent(i)}(e):function(e){let t;switch(e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case a.kBv.DOLLY:if(!1===n.enableZoom)return;q(e),_.set(e.clientX,e.clientY),s=l.DOLLY;break;case a.kBv.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;B(e),s=l.PAN}else{if(!1===n.enableRotate)return;H(e),s=l.ROTATE}break;case a.kBv.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;H(e),s=l.ROTATE}else{if(!1===n.enablePan)return;B(e),s=l.PAN}break;default:s=l.NONE}s!==l.NONE&&n.dispatchEvent(i)}(e))}function G(e){!1!==n.enabled&&("touch"===e.pointerType?function(e){switch(en(e),s){case l.TOUCH_ROTATE:if(!1===n.enableRotate)return;$(e),n.update();break;case l.TOUCH_PAN:if(!1===n.enablePan)return;X(e),n.update();break;case l.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&Z(e),n.enablePan&&X(e),n.update();break;case l.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&Z(e),n.enableRotate&&$(e),n.update();break;default:s=l.NONE}}(e):function(e){if(!1!==n.enabled)switch(s){case l.ROTATE:if(!1===n.enableRotate)return;!function(e){w.set(e.clientX,e.clientY),x.subVectors(w,y).multiplyScalar(n.rotateSpeed);let t=n.domElement;t&&(I(2*Math.PI*x.x/t.clientHeight),z(2*Math.PI*x.y/t.clientHeight)),y.copy(w),n.update()}(e);break;case l.DOLLY:var t,r,i;if(!1===n.enableZoom)return;t=e,(C.set(t.clientX,t.clientY),S.subVectors(C,_),S.y>0)?(r=T(),N(f/r)):S.y<0&&(i=T(),N(f*i)),_.copy(C),n.update();break;case l.PAN:if(!1===n.enablePan)return;j.set(e.clientX,e.clientY),P.subVectors(j,E).multiplyScalar(n.panSpeed),D(P.x,P.y),E.copy(j),n.update()}}(e))}function K(e){var t,r,i;(function(e){delete R[e.pointerId];for(let t=0;t<k.length;t++)if(k[t].pointerId==e.pointerId){k.splice(t,1);return}})(e),0===k.length&&(null==(t=n.domElement)||t.releasePointerCapture(e.pointerId),null==(r=n.domElement)||r.ownerDocument.removeEventListener("pointermove",G),null==(i=n.domElement)||i.ownerDocument.removeEventListener("pointerup",K)),n.dispatchEvent(o),s=l.NONE}function J(e){if(!1!==n.enabled&&!1!==n.enableZoom&&(s===l.NONE||s===l.ROTATE)){var t,r,a;e.preventDefault(),n.dispatchEvent(i),(q(t=e),t.deltaY<0)?(r=T(),N(f*r)):t.deltaY>0&&(a=T(),N(f/a)),n.update(),n.dispatchEvent(o)}}function ee(e){!1!==n.enabled&&!1!==n.enablePan&&function(e){let t=!1;switch(e.code){case n.keys.UP:D(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:D(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:D(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:D(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}(e)}function et(e){!1!==n.enabled&&e.preventDefault()}function en(e){let t=R[e.pointerId];void 0===t&&(t=new a.I9Y,R[e.pointerId]=t),t.set(e.pageX,e.pageY)}function er(e){return R[(e.pointerId===k[0].pointerId?k[1]:k[0]).pointerId]}this.dollyIn=(e=T())=>{N(f*e),n.update()},this.dollyOut=(e=T())=>{N(f/e),n.update()},this.getScale=()=>f,this.setScale=e=>{N(e),n.update()},this.getZoomScale=()=>T(),void 0!==t&&this.connect(t),this.update()}}let y=o.forwardRef(({makeDefault:e,camera:t,regress:n,domElement:a,enableDamping:l=!0,keyEvents:s=!1,onChange:u,onStart:c,onEnd:d,...f},p)=>{let h=(0,i.A)(e=>e.invalidate),m=(0,i.A)(e=>e.camera),v=(0,i.A)(e=>e.gl),g=(0,i.A)(e=>e.events),y=(0,i.A)(e=>e.setEvents),w=(0,i.A)(e=>e.set),x=(0,i.A)(e=>e.get),E=(0,i.A)(e=>e.performance),j=t||m,P=a||g.connected||v.domElement,_=o.useMemo(()=>new b(j),[j]);return(0,i.C)(()=>{_.enabled&&_.update()},-1),o.useEffect(()=>(s&&_.connect(!0===s?P:s),_.connect(P),()=>void _.dispose()),[s,P,n,_,h]),o.useEffect(()=>{let e=e=>{h(),n&&E.regress(),u&&u(e)},t=e=>{c&&c(e)},r=e=>{d&&d(e)};return _.addEventListener("change",e),_.addEventListener("start",t),_.addEventListener("end",r),()=>{_.removeEventListener("start",t),_.removeEventListener("end",r),_.removeEventListener("change",e)}},[u,c,d,_,h,y]),o.useEffect(()=>{if(e){let e=x().controls;return w({controls:_}),()=>w({controls:e})}},[e,_]),o.createElement("primitive",r({ref:p,object:_,enableDamping:l},f))})},5220:(e,t,n)=>{e.exports=n(1724)},5339:(e,t,n)=>{n.d(t,{A:()=>r});let r=(0,n(9946).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},5503:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(2115);function i(e){let t=r.useRef({value:e,previous:e});return r.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},5643:(e,t,n)=>{e.exports=n(6115)},6115:(e,t,n)=>{var r=n(2115),i=n(9033),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,l=r.useRef,s=r.useEffect,u=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=l(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;var p=a(e,(d=u(function(){function e(e){if(!s){if(s=!0,a=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return l=t}return l=e}if(t=l,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?(a=e,t):(a=e,l=n)}var a,l,s=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,n,r,i]))[0],d[1]);return s(function(){f.hasValue=!0,f.value=p},[p]),c(p),p}},6354:(e,t,n)=>{n.d(t,{Af:()=>l,Nz:()=>i,u5:()=>s,y3:()=>d});var r=n(2115);function i(e,t,n){if(!e)return;if(!0===n(e))return e;let r=t?e.return:e.child;for(;r;){let e=i(r,t,n);if(e)return e;r=t?null:r.sibling}}function o(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}(()=>{var e,t;return"undefined"!=typeof window&&((null==(e=window.document)?void 0:e.createElement)||(null==(t=window.navigator)?void 0:t.product)==="ReactNative")})()?r.useLayoutEffect:r.useEffect;let a=o(r.createContext(null));class l extends r.Component{render(){return r.createElement(a.Provider,{value:this._reactInternals},this.props.children)}}function s(){let e=r.useContext(a);if(null===e)throw Error("its-fine: useFiber must be called within a <FiberProvider />!");let t=r.useId();return r.useMemo(()=>{for(let n of[e,null==e?void 0:e.alternate]){if(!n)continue;let e=i(n,!1,e=>{let n=e.memoizedState;for(;n;){if(n.memoizedState===t)return!0;n=n.next}});if(e)return e}},[e,t])}let u=Symbol.for("react.context"),c=e=>null!==e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===u;function d(){let e=function(){let e=s(),[t]=r.useState(()=>new Map);t.clear();let n=e;for(;n;){let e=n.type;c(e)&&e!==a&&!t.has(e)&&t.set(e,r.use(o(e))),n=n.return}return t}();return r.useMemo(()=>Array.from(e.keys()).reduce((t,n)=>i=>r.createElement(t,null,r.createElement(n.Provider,{...i,value:e.get(n)})),e=>r.createElement(l,{...e})),[e])}},6500:(e,t)=>{t.ConcurrentRoot=1,t.ContinuousEventPriority=8,t.DefaultEventPriority=32,t.DiscreteEventPriority=2},6892:(e,t)=>{function n(e,t){var n=e.length;for(e.push(t);0<n;){var r=n-1>>>1,i=e[r];if(0<o(i,t))e[r]=t,e[n]=i,n=r;else break}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var r=0,i=e.length,a=i>>>1;r<a;){var l=2*(r+1)-1,s=e[l],u=l+1,c=e[u];if(0>o(s,n))u<i&&0>o(c,s)?(e[r]=c,e[u]=n,r=u):(e[r]=s,e[l]=n,r=l);else if(u<i&&0>o(c,n))e[r]=c,e[u]=n,r=u;else break}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var a,l=performance;t.unstable_now=function(){return l.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],d=[],f=1,p=null,h=3,m=!1,v=!1,g=!1,b="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=r(d);null!==t;){if(null===t.callback)i(d);else if(t.startTime<=e)i(d),t.sortIndex=t.expirationTime,n(c,t);else break;t=r(d)}}function E(e){if(g=!1,x(e),!v){if(null!==r(c))v=!0,k();else{var t=r(d);null!==t&&R(E,t.startTime-e)}}}var j=!1,P=-1,_=5,C=-1;function S(){return!(t.unstable_now()-C<_)}function M(){if(j){var e=t.unstable_now();C=e;var n=!0;try{e:{v=!1,g&&(g=!1,y(P),P=-1),m=!0;var o=h;try{t:{for(x(e),p=r(c);null!==p&&!(p.expirationTime>e&&S());){var l=p.callback;if("function"==typeof l){p.callback=null,h=p.priorityLevel;var s=l(p.expirationTime<=e);if(e=t.unstable_now(),"function"==typeof s){p.callback=s,x(e),n=!0;break t}p===r(c)&&i(c),x(e)}else i(c);p=r(c)}if(null!==p)n=!0;else{var u=r(d);null!==u&&R(E,u.startTime-e),n=!1}}break e}finally{p=null,h=o,m=!1}n=void 0}}finally{n?a():j=!1}}}if("function"==typeof w)a=function(){w(M)};else if("undefined"!=typeof MessageChannel){var O=new MessageChannel,A=O.port2;O.port1.onmessage=M,a=function(){A.postMessage(null)}}else a=function(){b(M,0)};function k(){j||(j=!0,a())}function R(e,n){P=b(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,k())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=0x3fffffff;break;case 4:l=1e4;break;default:l=5e3}return l=o+l,e={id:f++,callback:i,priorityLevel:e,startTime:o,expirationTime:l,sortIndex:-1},o>a?(e.sortIndex=o,n(d,e),null===r(c)&&e===r(d)&&(g?(y(P),P=-1):g=!0,R(E,o-a))):(e.sortIndex=l,n(c,e),v||m||(v=!0,k())),e},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},7558:(e,t,n)=>{n.d(t,{Hl:()=>f});var r=n(544),i=n(2115),o=n(7431);function a(e,t){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>e(...r),t)}}let l=["x","y","top","bottom","left","right","width","height"],s=(e,t)=>l.every(n=>e[n]===t[n]);var u=n(6354),c=n(5155);function d({ref:e,children:t,fallback:n,resize:l,style:u,gl:d,events:f=r.f,eventSource:p,eventPrefix:h,shadows:m,linear:v,flat:g,legacy:b,orthographic:y,frameloop:w,dpr:x,performance:E,raycaster:j,camera:P,scene:_,onPointerMissed:C,onCreated:S,...M}){i.useMemo(()=>(0,r.e)(o),[]);let O=(0,r.u)(),[A,k]=function({debounce:e,scroll:t,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){var o,l,u;let c=n||("undefined"==typeof window?class{}:window.ResizeObserver);if(!c)throw Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[d,f]=(0,i.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),p=(0,i.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:d,orientationHandler:null}),h=e?"number"==typeof e?e:e.scroll:null,m=e?"number"==typeof e?e:e.resize:null,v=(0,i.useRef)(!1);(0,i.useEffect)(()=>(v.current=!0,()=>void(v.current=!1)));let[g,b,y]=(0,i.useMemo)(()=>{let e=()=>{if(!p.current.element)return;let{left:e,top:t,width:n,height:i,bottom:o,right:a,x:l,y:u}=p.current.element.getBoundingClientRect(),c={left:e,top:t,width:n,height:i,bottom:o,right:a,x:l,y:u};p.current.element instanceof HTMLElement&&r&&(c.height=p.current.element.offsetHeight,c.width=p.current.element.offsetWidth),Object.freeze(c),v.current&&!s(p.current.lastBounds,c)&&f(p.current.lastBounds=c)};return[e,m?a(e,m):e,h?a(e,h):e]},[f,r,h,m]);function w(){p.current.scrollContainers&&(p.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",y,!0)),p.current.scrollContainers=null),p.current.resizeObserver&&(p.current.resizeObserver.disconnect(),p.current.resizeObserver=null),p.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",p.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",p.current.orientationHandler))}function x(){p.current.element&&(p.current.resizeObserver=new c(y),p.current.resizeObserver.observe(p.current.element),t&&p.current.scrollContainers&&p.current.scrollContainers.forEach(e=>e.addEventListener("scroll",y,{capture:!0,passive:!0})),p.current.orientationHandler=()=>{y()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",p.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",p.current.orientationHandler))}return o=y,l=!!t,(0,i.useEffect)(()=>{if(l)return window.addEventListener("scroll",o,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",o,!0)},[o,l]),u=b,(0,i.useEffect)(()=>(window.addEventListener("resize",u),()=>void window.removeEventListener("resize",u)),[u]),(0,i.useEffect)(()=>{w(),x()},[t,y,b]),(0,i.useEffect)(()=>w,[]),[e=>{e&&e!==p.current.element&&(w(),p.current.element=e,p.current.scrollContainers=function e(t){let n=[];if(!t||t===document.body)return n;let{overflow:r,overflowX:i,overflowY:o}=window.getComputedStyle(t);return[r,i,o].some(e=>"auto"===e||"scroll"===e)&&n.push(t),[...n,...e(t.parentElement)]}(e),x())},d,g]}({scroll:!0,debounce:{scroll:50,resize:0},...l}),R=i.useRef(null),T=i.useRef(null);i.useImperativeHandle(e,()=>R.current);let I=(0,r.a)(C),[z,L]=i.useState(!1),[F,D]=i.useState(!1);if(z)throw z;if(F)throw F;let N=i.useRef(null);(0,r.b)(()=>{let e=R.current;k.width>0&&k.height>0&&e&&(N.current||(N.current=(0,r.c)(e)),async function(){await N.current.configure({gl:d,scene:_,events:f,shadows:m,linear:v,flat:g,legacy:b,orthographic:y,frameloop:w,dpr:x,performance:E,raycaster:j,camera:P,size:k,onPointerMissed:(...e)=>null==I.current?void 0:I.current(...e),onCreated:e=>{null==e.events.connect||e.events.connect(p?(0,r.i)(p)?p.current:p:T.current),h&&e.setEvents({compute:(e,t)=>{let n=e[h+"X"],r=e[h+"Y"];t.pointer.set(n/t.size.width*2-1,-(2*(r/t.size.height))+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==S||S(e)}}),N.current.render((0,c.jsx)(O,{children:(0,c.jsx)(r.E,{set:D,children:(0,c.jsx)(i.Suspense,{fallback:(0,c.jsx)(r.B,{set:L}),children:null!=t?t:null})})}))}())}),i.useEffect(()=>{let e=R.current;if(e)return()=>(0,r.d)(e)},[]);let q=p?"none":"auto";return(0,c.jsx)("div",{ref:T,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:q,...u},...M,children:(0,c.jsx)("div",{ref:A,style:{width:"100%",height:"100%"},children:(0,c.jsx)("canvas",{ref:R,style:{display:"block"},children:n})})})}function f(e){return(0,c.jsx)(u.Af,{children:(0,c.jsx)(d,{...e})})}n(1933),n(5220),n(2407)},8099:(e,t,n)=>{n.d(t,{CS:()=>no,zh:()=>t7});var r,i,o,a,l,s=n(544),u=_(),c=e=>x(e,u),d=_();c.write=e=>x(e,d);var f=_();c.onStart=e=>x(e,f);var p=_();c.onFrame=e=>x(e,p);var h=_();c.onFinish=e=>x(e,h);var m=[];c.setTimeout=(e,t)=>{let n=c.now()+t,r=()=>{let e=m.findIndex(e=>e.cancel==r);~e&&m.splice(e,1),y-=+!!~e},i={time:n,handler:e,cancel:r};return m.splice(v(n),0,i),y+=1,E(),i};var v=e=>~(~m.findIndex(t=>t.time>e)||~m.length);c.cancel=e=>{f.delete(e),p.delete(e),h.delete(e),u.delete(e),d.delete(e)},c.sync=e=>{w=!0,c.batchedUpdates(e),w=!1},c.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...e){t=e,c.onStart(n)}return r.handler=e,r.cancel=()=>{f.delete(n),t=null},r};var g="undefined"!=typeof window?window.requestAnimationFrame:()=>{};c.use=e=>g=e,c.now="undefined"!=typeof performance?()=>performance.now():Date.now,c.batchedUpdates=e=>e(),c.catch=console.error,c.frameLoop="always",c.advance=()=>{"demand"!==c.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):P()};var b=-1,y=0,w=!1;function x(e,t){w?(t.delete(e),e(0)):(t.add(e),E())}function E(){b<0&&(b=0,"demand"!==c.frameLoop&&g(j))}function j(){~b&&(g(j),c.batchedUpdates(P))}function P(){let e=b,t=v(b=c.now());if(t&&(C(m.splice(0,t),e=>e.handler()),y-=t),!y){b=-1;return}f.flush(),u.flush(e?Math.min(64,b-e):16.667),p.flush(),d.flush(),h.flush()}function _(){let e=new Set,t=e;return{add(n){y+=t!=e||e.has(n)?0:1,e.add(n)},delete:n=>(y-=t==e&&e.has(n)?1:0,e.delete(n)),flush(n){t.size&&(e=new Set,y-=t.size,C(t,t=>t(n)&&e.add(t)),y+=e.size,t=e)}}}function C(e,t){e.forEach(e=>{try{t(e)}catch(e){c.catch(e)}})}var S=n(2115),M=Object.defineProperty,O={};function A(){}((e,t)=>{for(var n in t)M(e,n,{get:t[n],enumerable:!0})})(O,{assign:()=>B,colors:()=>q,createStringInterpolator:()=>r,skipAnimation:()=>V,to:()=>i,willAdvance:()=>H});var k=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),R={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,und:e=>void 0===e};function T(e,t){if(R.arr(e)){if(!R.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var I=(e,t)=>e.forEach(t);function z(e,t,n){if(R.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(let r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var L=e=>R.und(e)?[]:R.arr(e)?e:[e];function F(e,t){if(e.size){let n=Array.from(e);e.clear(),I(n,t)}}var D=(e,...t)=>F(e,e=>e(...t)),N=()=>"undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),q=null,V=!1,H=A,B=e=>{e.to&&(i=e.to),e.now&&(c.now=e.now),void 0!==e.colors&&(q=e.colors),null!=e.skipAnimation&&(V=e.skipAnimation),e.createStringInterpolator&&(r=e.createStringInterpolator),e.requestAnimationFrame&&c.use(e.requestAnimationFrame),e.batchedUpdates&&(c.batchedUpdates=e.batchedUpdates),e.willAdvance&&(H=e.willAdvance),e.frameLoop&&(c.frameLoop=e.frameLoop)},Y=new Set,U=[],W=[],$=0,X={get idle(){return!Y.size&&!U.length},start(e){$>e.priority?(Y.add(e),c.onStart(Z)):(Q(e),c(K))},advance:K,sort(e){if($)c.onFrame(()=>X.sort(e));else{let t=U.indexOf(e);~t&&(U.splice(t,1),G(e))}},clear(){U=[],Y.clear()}};function Z(){Y.forEach(Q),Y.clear(),c(K)}function Q(e){U.includes(e)||G(e)}function G(e){U.splice(function(e,t){let n=e.findIndex(t);return n<0?e.length:n}(U,t=>t.priority>e.priority),0,e)}function K(e){let t=W;for(let n=0;n<U.length;n++){let r=U[n];$=r.priority,r.idle||(H(r),r.advance(e),r.idle||t.push(r))}return $=0,(W=U).length=0,(U=t).length>0}var J="[-+]?\\d*\\.?\\d+",ee=J+"%";function et(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var en=RegExp("rgb"+et(J,J,J)),er=RegExp("rgba"+et(J,J,J,J)),ei=RegExp("hsl"+et(J,ee,ee)),eo=RegExp("hsla"+et(J,ee,ee,J)),ea=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,el=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,es=/^#([0-9a-fA-F]{6})$/,eu=/^#([0-9a-fA-F]{8})$/;function ec(e,t,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?e+(t-e)*6*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ed(e,t,n){let r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,o=ec(i,r,e+1/3);return Math.round(255*o)<<24|Math.round(255*ec(i,r,e))<<16|Math.round(255*ec(i,r,e-1/3))<<8}function ef(e){let t=parseInt(e,10);return t<0?0:t>255?255:t}function ep(e){return(parseFloat(e)%360+360)%360/360}function eh(e){let t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function em(e){let t=parseFloat(e);return t<0?0:t>100?1:t/100}function ev(e){let t;let n="number"==typeof e?e>>>0===e&&e>=0&&e<=0xffffffff?e:null:(t=es.exec(e))?parseInt(t[1]+"ff",16)>>>0:q&&void 0!==q[e]?q[e]:(t=en.exec(e))?(ef(t[1])<<24|ef(t[2])<<16|ef(t[3])<<8|255)>>>0:(t=er.exec(e))?(ef(t[1])<<24|ef(t[2])<<16|ef(t[3])<<8|eh(t[4]))>>>0:(t=ea.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=eu.exec(e))?parseInt(t[1],16)>>>0:(t=el.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=ei.exec(e))?(255|ed(ep(t[1]),em(t[2]),em(t[3])))>>>0:(t=eo.exec(e))?(ed(ep(t[1]),em(t[2]),em(t[3]))|eh(t[4]))>>>0:null;if(null===n)return e;let r=(0xff000000&(n=n||0))>>>24,i=(0xff0000&n)>>>16,o=(65280&n)>>>8,a=(255&n)/255;return`rgba(${r}, ${i}, ${o}, ${a})`}var eg=(e,t,n)=>{if(R.fun(e))return e;if(R.arr(e))return eg({range:e,output:t,extrapolate:n});if(R.str(e.output[0]))return r(e);let i=e.output,o=e.range||[0,1],a=e.extrapolateLeft||e.extrapolate||"extend",l=e.extrapolateRight||e.extrapolate||"extend",s=e.easing||(e=>e);return t=>{let n=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(t,o);return function(e,t,n,r,i,o,a,l,s){let u=s?s(e):e;if(u<t){if("identity"===a)return u;"clamp"===a&&(u=t)}if(u>n){if("identity"===l)return u;"clamp"===l&&(u=n)}return r===i?r:t===n?e<=t?r:i:(t===-1/0?u=-u:n===1/0?u-=t:u=(u-t)/(n-t),u=o(u),r===-1/0?u=-u:i===1/0?u+=r:u=u*(i-r)+r,u)}(t,o[n],o[n+1],i[n],i[n+1],s,a,l,e.map)}},eb=Symbol.for("FluidValue.get"),ey=Symbol.for("FluidValue.observers"),ew=e=>!!(e&&e[eb]),ex=e=>e&&e[eb]?e[eb]():e,eE=e=>e[ey]||null;function ej(e,t){let n=e[ey];n&&n.forEach(e=>{e.eventObserved?e.eventObserved(t):e(t)})}var eP=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");e_(this,e)}},e_=(e,t)=>eM(e,eb,t);function eC(e,t){if(e[eb]){let n=e[ey];n||eM(e,ey,n=new Set),!n.has(t)&&(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function eS(e,t){let n=e[ey];if(n&&n.has(t)){let r=n.size-1;r?n.delete(t):e[ey]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var eM=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),eO=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,eA=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,ek=RegExp(`(${eO.source})(%|[a-z]+)`,"i"),eR=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,eT=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,eI=e=>{let[t,n]=ez(e);if(!t||N())return e;let r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){let e=window.getComputedStyle(document.documentElement).getPropertyValue(n);if(e)return e}else if(n&&eT.test(n))return eI(n);else if(n)return n;return e},ez=e=>{let t=eT.exec(e);if(!t)return[,];let[,n,r]=t;return[n,r]},eL=(e,t,n,r,i)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,eF=e=>{o||(o=q?RegExp(`(${Object.keys(q).join("|")})(?!\\w)`,"g"):/^\b$/);let t=e.output.map(e=>ex(e).replace(eT,eI).replace(eA,ev).replace(o,ev)),n=t.map(e=>e.match(eO).map(Number)),r=n[0].map((e,t)=>n.map(e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})).map(t=>eg({...e,output:t}));return e=>{let n=!ek.test(t[0])&&t.find(e=>ek.test(e))?.replace(eO,""),i=0;return t[0].replace(eO,()=>`${r[i++](e)}${n||""}`).replace(eR,eL)}},eD="react-spring: ",eN=e=>{let t=!1;if("function"!=typeof e)throw TypeError(`${eD}once requires a function parameter`);return(...n)=>{t||(e(...n),t=!0)}},eq=eN(console.warn),eV=eN(console.warn);function eH(e){return R.str(e)&&("#"==e[0]||/\d/.test(e)||!N()&&eT.test(e)||e in(q||{}))}var eB=new WeakMap,eY=e=>e.forEach(({target:e,contentRect:t})=>eB.get(e)?.forEach(e=>e(t))),eU=new Set,eW=()=>{let e=()=>{eU.forEach(e=>e({width:window.innerWidth,height:window.innerHeight}))};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},e$=e=>(eU.add(e),l||(l=eW()),()=>{eU.delete(e),!eU.size&&l&&(l(),l=void 0)}),eX=(e,t,n)=>t-e==0?1:(n-e)/(t-e),eZ={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}},eQ=N()?S.useEffect:S.useLayoutEffect,eG=()=>{let e=(0,S.useRef)(!1);return eQ(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function eK(){let e=(0,S.useState)()[1],t=eG();return()=>{t.current&&e(Math.random())}}var eJ=e=>(0,S.useEffect)(e,e0),e0=[];function e1(e){let t=(0,S.useRef)(void 0);return(0,S.useEffect)(()=>{t.current=e}),t.current}var e2=Symbol.for("Animated:node"),e5=e=>!!e&&e[e2]===e,e3=e=>e&&e[e2],e9=(e,t)=>k(e,e2,t),e6=e=>e&&e[e2]&&e[e2].getPayload(),e8=class{constructor(){e9(this,this)}getPayload(){return this.payload||[]}},e4=class e extends e8{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,R.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new e(t)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return R.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){let{done:e}=this;this.done=!1,R.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},e7=class e extends e4{constructor(e){super(0),this._string=null,this._toString=eg({output:[e,e]})}static create(t){return new e(t)}getValue(){let e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(R.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=eg({output:[this.getValue(),e]})),this._value=0,super.reset()}},te={dependencies:null},tt=class extends e8{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){let t={};return z(this.source,(n,r)=>{e5(n)?t[r]=n.getValue(e):ew(n)?t[r]=ex(n):e||(t[r]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&I(this.payload,e=>e.reset())}_makePayload(e){if(e){let t=new Set;return z(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){te.dependencies&&ew(e)&&te.dependencies.add(e);let t=e6(e);t&&I(t,e=>this.add(e))}},tn=class e extends tt{constructor(e){super(e)}static create(t){return new e(t)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){let t=this.getPayload();return e.length==t.length?t.map((t,n)=>t.setValue(e[n])).some(Boolean):(super.setValue(e.map(tr)),!0)}};function tr(e){return(eH(e)?e7:e4).create(e)}function ti(e){let t=e3(e);return t?t.constructor:R.arr(e)?tn:eH(e)?e7:e4}var to=(e,t)=>{let n=!R.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,S.forwardRef)((r,i)=>{let o=(0,S.useRef)(null),a=n&&(0,S.useCallback)(e=>{o.current=function(e,t){return e&&(R.fun(e)?e(t):e.current=t),t}(i,e)},[i]),[l,s]=function(e,t){let n=new Set;return te.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new tt(e),te.dependencies=null,[e,n]}(r,t),u=eK(),d=()=>{let e=o.current;(!n||e)&&!1===(!!e&&t.applyAnimatedValues(e,l.getValue(!0)))&&u()},f=new ta(d,s),p=(0,S.useRef)(void 0);eQ(()=>(p.current=f,I(s,e=>eC(e,f)),()=>{p.current&&(I(p.current.deps,e=>eS(e,p.current)),c.cancel(p.current.update))})),(0,S.useEffect)(d,[]),eJ(()=>()=>{let e=p.current;I(e.deps,t=>eS(t,e))});let h=t.getComponentProps(l.getValue());return S.createElement(e,{...h,ref:a})})},ta=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&c.write(this.update)}},tl=Symbol.for("AnimatedComponent"),ts=e=>R.str(e)?e:e&&R.str(e.displayName)?e.displayName:R.fun(e)&&e.name||null;function tu(e,...t){return R.fun(e)?e(...t):e}var tc=(e,t)=>!0===e||!!(t&&e&&(R.fun(e)?e(t):L(e).includes(t))),td=(e,t)=>R.obj(e)?t&&e[t]:e,tf=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,tp=e=>e,th=(e,t=tp)=>{let n=tm;e.default&&!0!==e.default&&(n=Object.keys(e=e.default));let r={};for(let i of n){let n=t(e[i],i);R.und(n)||(r[i]=n)}return r},tm=["config","onProps","onStart","onChange","onPause","onResume","onRest"],tv={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function tg(e){let t=function(e){let t={},n=0;if(z(e,(e,r)=>{!tv[r]&&(t[r]=e,n++)}),n)return t}(e);if(t){let n={to:t};return z(e,(e,r)=>r in t||(n[r]=e)),n}return{...e}}function tb(e){return e=ex(e),R.arr(e)?e.map(tb):eH(e)?O.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function ty(e){return R.fun(e)||R.arr(e)&&R.obj(e[0])}var tw={tension:170,friction:26,mass:1,damping:1,easing:e=>e,clamp:!1},tx=class{constructor(){this.velocity=0,Object.assign(this,tw)}};function tE(e,t){if(R.und(t.decay)){let n=!R.und(t.tension)||!R.und(t.friction);!n&&R.und(t.frequency)&&R.und(t.damping)&&R.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var tj=[],tP=class{constructor(){this.changed=!1,this.values=tj,this.toValues=null,this.fromValues=tj,this.config=new tx,this.immediate=!1}};function t_(e,{key:t,props:n,defaultProps:r,state:i,actions:o}){return new Promise((a,l)=>{let s,u;let d=tc(n.cancel??r?.cancel,t);if(d)h();else{R.und(n.pause)||(i.paused=tc(n.pause,t));let e=r?.pause;!0!==e&&(e=i.paused||tc(e,t)),s=tu(n.delay||0,t),e?(i.resumeQueue.add(p),o.pause()):(o.resume(),p())}function f(){i.resumeQueue.add(p),i.timeouts.delete(u),u.cancel(),s=u.time-c.now()}function p(){s>0&&!O.skipAnimation?(i.delayed=!0,u=c.setTimeout(h,s),i.pauseQueue.add(f),i.timeouts.add(u)):h()}function h(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(f),i.timeouts.delete(u),e<=(i.cancelId||0)&&(d=!0);try{o.start({...n,callId:e,cancel:d},a)}catch(e){l(e)}}})}var tC=(e,t)=>1==t.length?t[0]:t.some(e=>e.cancelled)?tO(e.get()):t.every(e=>e.noop)?tS(e.get()):tM(e.get(),t.every(e=>e.finished)),tS=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),tM=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),tO=e=>({value:e,cancelled:!0,finished:!1});function tA(e,t,n,r){let{callId:i,parentId:o,onRest:a}=t,{asyncTo:l,promise:s}=n;return o||e!==l||t.reset?n.promise=(async()=>{let u,d,f;n.asyncId=i,n.asyncTo=e;let p=th(t,(e,t)=>"onRest"===t?void 0:e),h=new Promise((e,t)=>(u=e,d=t)),m=e=>{let t=i<=(n.cancelId||0)&&tO(r)||i!==n.asyncId&&tM(r,!1);if(t)throw e.result=t,d(e),e},v=(e,t)=>{let o=new tR,a=new tT;return(async()=>{if(O.skipAnimation)throw tk(n),a.result=tM(r,!1),d(a),a;m(o);let l=R.obj(e)?{...e}:{...t,to:e};l.parentId=i,z(p,(e,t)=>{R.und(l[t])&&(l[t]=e)});let s=await r.start(l);return m(o),n.paused&&await new Promise(e=>{n.resumeQueue.add(e)}),s})()};if(O.skipAnimation)return tk(n),tM(r,!1);try{let t;t=R.arr(e)?(async e=>{for(let t of e)await v(t)})(e):Promise.resolve(e(v,r.stop.bind(r))),await Promise.all([t.then(u),h]),f=tM(r.get(),!0,!1)}catch(e){if(e instanceof tR)f=e.result;else if(e instanceof tT)f=e.result;else throw e}finally{i==n.asyncId&&(n.asyncId=o,n.asyncTo=o?l:void 0,n.promise=o?s:void 0)}return R.fun(a)&&c.batchedUpdates(()=>{a(f,r,r.item)}),f})():s}function tk(e,t){F(e.timeouts,e=>e.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var tR=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},tT=class extends Error{constructor(){super("SkipAnimationSignal")}},tI=e=>e instanceof tL,tz=1,tL=class extends eP{constructor(){super(...arguments),this.id=tz++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){let e=e3(this);return e&&e.getValue()}to(...e){return O.to(this,e)}interpolate(...e){return eq(`${eD}The "interpolate" function is deprecated in v9 (use "to" instead)`),O.to(this,e)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){ej(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||X.sort(this),ej(this,{type:"priority",parent:this,priority:e})}},tF=Symbol.for("SpringPhase"),tD=e=>(1&e[tF])>0,tN=e=>(2&e[tF])>0,tq=e=>(4&e[tF])>0,tV=(e,t)=>t?e[tF]|=3:e[tF]&=-3,tH=(e,t)=>t?e[tF]|=4:e[tF]&=-5,tB=class extends tL{constructor(e,t){if(super(),this.animation=new tP,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!R.und(e)||!R.und(t)){let n=R.obj(e)?{...e}:{...t,from:e};R.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(tN(this)||this._state.asyncTo)||tq(this)}get goal(){return ex(this.animation.to)}get velocity(){let e=e3(this);return e instanceof e4?e.lastVelocity||0:e.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return tD(this)}get isAnimating(){return tN(this)}get isPaused(){return tq(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1,r=this.animation,{toValues:i}=r,{config:o}=r,a=e6(r.to);!a&&ew(r.to)&&(i=L(ex(r.to))),r.values.forEach((l,s)=>{if(l.done)return;let u=l.constructor==e7?1:a?a[s].lastPosition:i[s],c=r.immediate,d=u;if(!c){let t;if(d=l.lastPosition,o.tension<=0){l.done=!0;return}let n=l.elapsedTime+=e,i=r.fromValues[s],a=null!=l.v0?l.v0:l.v0=R.arr(o.velocity)?o.velocity[s]:o.velocity,f=o.precision||(i==u?.005:Math.min(1,.001*Math.abs(u-i)));if(R.und(o.duration)){if(o.decay){let e=!0===o.decay?.998:o.decay,r=Math.exp(-(1-e)*n);d=i+a/(1-e)*(1-r),c=Math.abs(l.lastPosition-d)<=f,t=a*r}else{t=null==l.lastVelocity?a:l.lastVelocity;let n=o.restVelocity||f/10,r=o.clamp?0:o.bounce,s=!R.und(r),p=i==u?l.v0>0:i<u,h=!1,m=Math.ceil(e/1);for(let e=0;e<m&&!(!(Math.abs(t)>n)&&(c=Math.abs(u-d)<=f));++e){s&&(d==u||d>u==p)&&(t=-t*r,d=u);let e=(-(1e-6*o.tension)*(d-u)+-(.001*o.friction)*t)/o.mass;t+=+e,d+=+t}}}else{let r=1;o.duration>0&&(this._memoizedDuration!==o.duration&&(this._memoizedDuration=o.duration,l.durationProgress>0&&(l.elapsedTime=o.duration*l.durationProgress,n=l.elapsedTime+=e)),l.durationProgress=r=(r=(o.progress||0)+n/this._memoizedDuration)>1?1:r<0?0:r),t=((d=i+o.easing(r)*(u-i))-l.lastPosition)/e,c=1==r}l.lastVelocity=t,Number.isNaN(d)&&(console.warn("Got NaN while animating:",this),c=!0)}a&&!a[s].done&&(c=!1),c?l.done=!0:t=!1,l.setValue(d,o.round)&&(n=!0)});let l=e3(this),s=l.getValue();if(t){let e=ex(r.to);(s!==e||n)&&!o.decay?(l.setValue(e),this._onChange(e)):n&&o.decay&&this._onChange(s),this._stop()}else n&&this._onChange(s)}set(e){return c.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(tN(this)){let{to:e,config:t}=this.animation;c.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return R.und(e)?(n=this.queue||[],this.queue=[]):n=[R.obj(e)?e:{...t,to:e}],Promise.all(n.map(e=>this._update(e))).then(e=>tC(this,e))}stop(e){let{to:t}=this.animation;return this._focus(this.get()),tk(this._state,e&&this._lastCallId),c.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){let t=this.key||"",{to:n,from:r}=e;(null==(n=R.obj(n)?n[t]:n)||ty(n))&&(n=void 0),null==(r=R.obj(r)?r[t]:r)&&(r=void 0);let i={to:n,from:r};return tD(this)||(e.reverse&&([n,r]=[r,n]),r=ex(r),R.und(r)?e3(this)||this._set(n):this._set(r)),i}_update({...e},t){let{key:n,defaultProps:r}=this;e.default&&Object.assign(r,th(e,(e,t)=>/^on/.test(t)?td(e,n):e)),tZ(this,e,"onProps"),tQ(this,"onProps",e,this);let i=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let o=this._state;return t_(++this._lastCallId,{key:n,props:e,defaultProps:r,state:o,actions:{pause:()=>{tq(this)||(tH(this,!0),D(o.pauseQueue),tQ(this,"onPause",tM(this,tY(this,this.animation.to)),this))},resume:()=>{tq(this)&&(tH(this,!1),tN(this)&&this._resume(),D(o.resumeQueue),tQ(this,"onResume",tM(this,tY(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(n=>{if(e.loop&&n.finished&&!(t&&n.noop)){let t=tU(e);if(t)return this._update(t,!0)}return n})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(tO(this));let r=!R.und(e.to),i=!R.und(e.from);if(r||i){if(!(t.callId>this._lastToId))return n(tO(this));this._lastToId=t.callId}let{key:o,defaultProps:a,animation:l}=this,{to:s,from:u}=l,{to:d=s,from:f=u}=e;i&&!r&&(!t.default||R.und(d))&&(d=f),t.reverse&&([d,f]=[f,d]);let p=!T(f,u);p&&(l.from=f),f=ex(f);let h=!T(d,s);h&&this._focus(d);let m=ty(t.to),{config:v}=l,{decay:g,velocity:b}=v;(r||i)&&(v.velocity=0),t.config&&!m&&function(e,t,n){for(let r in n&&(tE(n={...n},t),t={...n,...t}),tE(e,t),Object.assign(e,t),tw)null==e[r]&&(e[r]=tw[r]);let{frequency:r,damping:i}=e,{mass:o}=e;R.und(r)||(r<.01&&(r=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/r,2)*o,e.friction=4*Math.PI*i*o/r)}(v,tu(t.config,o),t.config!==a.config?tu(a.config,o):void 0);let y=e3(this);if(!y||R.und(d))return n(tM(this,!0));let w=R.und(t.reset)?i&&!t.default:!R.und(f)&&tc(t.reset,o),x=w?f:this.get(),E=tb(d),j=R.num(E)||R.arr(E)||eH(E),P=!m&&(!j||tc(a.immediate||t.immediate,o));if(h){let e=ti(d);if(e!==y.constructor){if(P)y=this._set(E);else throw Error(`Cannot animate between ${y.constructor.name} and ${e.name}, as the "to" prop suggests`)}}let _=y.constructor,C=ew(d),S=!1;if(!C){let e=w||!tD(this)&&p;(h||e)&&(C=!(S=T(tb(x),E))),(T(l.immediate,P)||P)&&T(v.decay,g)&&T(v.velocity,b)||(C=!0)}if(S&&tN(this)&&(l.changed&&!w?C=!0:C||this._stop(s)),!m&&((C||ew(s))&&(l.values=y.getPayload(),l.toValues=ew(d)?null:_==e7?[1]:L(E)),l.immediate==P||(l.immediate=P,P||w||this._set(s)),C)){let{onRest:e}=l;I(tX,e=>tZ(this,t,e));let r=tM(this,tY(this,s));D(this._pendingCalls,r),this._pendingCalls.add(n),l.changed&&c.batchedUpdates(()=>{l.changed=!w,e?.(r,this),w?tu(a.onRest,r):l.onStart?.(r,this)})}w&&this._set(x),m?n(tA(t.to,t,this._state,this)):C?this._start():tN(this)&&!h?this._pendingCalls.add(n):n(tS(x))}_focus(e){let t=this.animation;e!==t.to&&(eE(this)&&this._detach(),t.to=e,eE(this)&&this._attach())}_attach(){let e=0,{to:t}=this.animation;ew(t)&&(eC(t,this),tI(t)&&(e=t.priority+1)),this.priority=e}_detach(){let{to:e}=this.animation;ew(e)&&eS(e,this)}_set(e,t=!0){let n=ex(e);if(!R.und(n)){let e=e3(this);if(!e||!T(n,e.getValue())){let r=ti(n);e&&e.constructor==r?e.setValue(n):e9(this,r.create(n)),e&&c.batchedUpdates(()=>{this._onChange(n,t)})}}return e3(this)}_onStart(){let e=this.animation;e.changed||(e.changed=!0,tQ(this,"onStart",tM(this,tY(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),tu(this.animation.onChange,e,this)),tu(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){let e=this.animation;e3(this).reset(ex(e.to)),e.immediate||(e.fromValues=e.values.map(e=>e.lastPosition)),tN(this)||(tV(this,!0),tq(this)||this._resume())}_resume(){O.skipAnimation?this.finish():X.start(this)}_stop(e,t){if(tN(this)){tV(this,!1);let n=this.animation;I(n.values,e=>{e.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),ej(this,{type:"idle",parent:this});let r=t?tO(this.get()):tM(this.get(),tY(this,e??n.to));D(this._pendingCalls,r),n.changed&&(n.changed=!1,tQ(this,"onRest",r,this))}}};function tY(e,t){let n=tb(t);return T(tb(e.get()),n)}function tU(e,t=e.loop,n=e.to){let r=tu(t);if(r){let i=!0!==r&&tg(r),o=(i||e).reverse,a=!i||i.reset;return tW({...e,loop:t,default:!1,pause:void 0,to:!o||ty(n)?n:void 0,from:a?e.from:void 0,reset:a,...i})}}function tW(e){let{to:t,from:n}=e=tg(e),r=new Set;return R.obj(t)&&t$(t,r),R.obj(n)&&t$(n,r),e.keys=r.size?Array.from(r):null,e}function t$(e,t){z(e,(e,n)=>null!=e&&t.add(n))}var tX=["onStart","onRest","onChange","onPause","onResume"];function tZ(e,t,n){e.animation[n]=t[n]!==tf(t,n)?td(t[n],e.key):void 0}function tQ(e,t,...n){e.animation[t]?.(...n),e.defaultProps[t]?.(...n)}var tG=["onStart","onChange","onRest"],tK=1,tJ=class{constructor(e,t){this.id=tK++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){let e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(let t in e){let n=e[t];R.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(tW(e)),this}start(e){let{queue:t}=this;return(e?t=L(e).map(tW):this.queue=[],this._flush)?this._flush(this,t):(t6(this,t),t0(this,t))}stop(e,t){if(!!e!==e&&(t=e),t){let n=this.springs;I(L(t),t=>n[t].stop(!!e))}else tk(this._state,this._lastAsyncId),this.each(t=>t.stop(!!e));return this}pause(e){if(R.und(e))this.start({pause:!0});else{let t=this.springs;I(L(e),e=>t[e].pause())}return this}resume(e){if(R.und(e))this.start({pause:!1});else{let t=this.springs;I(L(e),e=>t[e].resume())}return this}each(e){z(this.springs,e)}_onFrame(){let{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,F(e,([e,t])=>{t.value=this.get(),e(t,this,this._item)}));let o=!r&&this._started,a=i||o&&n.size?this.get():null;i&&t.size&&F(t,([e,t])=>{t.value=a,e(t,this,this._item)}),o&&(this._started=!1,F(n,([e,t])=>{t.value=a,e(t,this,this._item)}))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}c.onFrame(this._onFrame)}};function t0(e,t){return Promise.all(t.map(t=>t1(e,t))).then(t=>tC(e,t))}async function t1(e,t,n){let{keys:r,to:i,from:o,loop:a,onRest:l,onResolve:s}=t,u=R.obj(t.default)&&t.default;a&&(t.loop=!1),!1===i&&(t.to=null),!1===o&&(t.from=null);let d=R.arr(i)||R.fun(i)?i:void 0;d?(t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0)):I(tG,n=>{let r=t[n];if(R.fun(r)){let i=e._events[n];t[n]=({finished:e,cancelled:t})=>{let n=i.get(r);n?(e||(n.finished=!1),t&&(n.cancelled=!0)):i.set(r,{value:null,finished:e||!1,cancelled:t||!1})},u&&(u[n]=t[n])}});let f=e._state;!f.paused===t.pause?(f.paused=t.pause,D(t.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(t.pause=!0);let p=(r||Object.keys(e.springs)).map(n=>e.springs[n].start(t)),h=!0===t.cancel||!0===tf(t,"cancel");(d||h&&f.asyncId)&&p.push(t_(++e._lastAsyncId,{props:t,state:f,actions:{pause:A,resume:A,start(t,n){h?(tk(f,e._lastAsyncId),n(tO(e))):(t.onRest=l,n(tA(d,t,f,e)))}}})),f.paused&&await new Promise(e=>{f.resumeQueue.add(e)});let m=tC(e,await Promise.all(p));if(a&&m.finished&&!(n&&m.noop)){let n=tU(t,a,i);if(n)return t6(e,[n]),t1(e,n,!0)}return s&&c.batchedUpdates(()=>s(m,e,e.item)),m}function t2(e,t){let n={...e.springs};return t&&I(L(t),e=>{R.und(e.keys)&&(e=tW(e)),R.obj(e.to)||(e={...e,to:void 0}),t9(n,e,e=>t3(e))}),t5(e,n),n}function t5(e,t){z(t,(t,n)=>{e.springs[n]||(e.springs[n]=t,eC(t,e))})}function t3(e,t){let n=new tB;return n.key=e,t&&eC(n,t),n}function t9(e,t,n){t.keys&&I(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function t6(e,t){I(t,t=>{t9(e.springs,t,t=>t3(t,e))})}var t8=S.createContext({pause:!1,immediate:!1}),t4=()=>{let e=[],t=function(t){eV(`${eD}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`);let r=[];return I(e,(e,i)=>{if(R.und(t))r.push(e.start());else{let o=n(t,e,i);o&&r.push(e.start(o))}}),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){let n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){return I(e,e=>e.pause(...arguments)),this},t.resume=function(){return I(e,e=>e.resume(...arguments)),this},t.set=function(t){I(e,(e,n)=>{let r=R.fun(t)?t(n,e):t;r&&e.set(r)})},t.start=function(t){let n=[];return I(e,(e,r)=>{if(R.und(t))n.push(e.start());else{let i=this._getProps(t,e,r);i&&n.push(e.start(i))}}),n},t.stop=function(){return I(e,e=>e.stop(...arguments)),this},t.update=function(t){return I(e,(e,n)=>e.update(this._getProps(t,e,n))),this};let n=function(e,t,n){return R.fun(e)?e(n,t):e};return t._getProps=n,t};function t7(e,t){let n=R.fun(e),[[r],i]=function(e,t,n){let r=R.fun(t)&&t;r&&!n&&(n=[]);let i=(0,S.useMemo)(()=>r||3==arguments.length?t4():void 0,[]),o=(0,S.useRef)(0),a=eK(),l=(0,S.useMemo)(()=>({ctrls:[],queue:[],flush(e,t){let n=t2(e,t);return!(o.current>0)||l.queue.length||Object.keys(n).some(t=>!e.springs[t])?new Promise(r=>{t5(e,n),l.queue.push(()=>{r(t0(e,t))}),a()}):t0(e,t)}}),[]),s=(0,S.useRef)([...l.ctrls]),u=(0,S.useRef)([]);u.current??(u.current=[]);let c=e1(e)||0;function d(e,n){for(let i=e;i<n;i++){let e=s.current[i]||(s.current[i]=new tJ(null,l.flush)),n=r?r(i,e):t[i];n&&(u.current[i]=function(e){let t=tW(e);return R.und(t.default)&&(t.default=th(t)),t}(n))}}(0,S.useMemo)(()=>{I(s.current.slice(e,c),e=>{var t,n;t=e,n=i,t.ref?.delete(t),n?.delete(t),e.stop(!0)}),s.current.length=e,d(c,e)},[e]),(0,S.useMemo)(()=>{d(0,Math.min(c,e))},n);let f=s.current.map((e,t)=>t2(e,u.current[t])),p=(0,S.useContext)(t8),h=e1(p),m=p!==h&&function(e){for(let t in e)return!0;return!1}(p);eQ(()=>{o.current++,l.ctrls=s.current;let{queue:e}=l;e.length&&(l.queue=[],I(e,e=>e())),I(s.current,(e,t)=>{var n,r;i?.add(e),m&&e.start({default:p});let o=u.current[t];o&&(n=e,(r=o.ref)&&n.ref!==r&&(n.ref?.delete(n),r.add(n),n.ref=r),e.ref?e.queue.push(o):e.start(o)),u.current[t]=null})}),eJ(()=>()=>{I(l.ctrls,e=>e.stop(!0))});let v=f.map(e=>({...e}));return i?[v,i]:v}(1,n?e:[e],n?t||[]:t);return n||2==arguments.length?[r,i]:r}var ne=class extends tL{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=eg(...t);let n=this._get();e9(this,ti(n).create(n))}advance(e){let t=this._get();T(t,this.get())||(e3(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&nn(this._active)&&nr(this)}_get(){let e=R.arr(this.source)?this.source.map(ex):L(ex(this.source));return this.calc(...e)}_start(){this.idle&&!nn(this._active)&&(this.idle=!1,I(e6(this),e=>{e.done=!1}),O.skipAnimation?(c.batchedUpdates(()=>this.advance()),nr(this)):X.start(this))}_attach(){let e=1;I(L(this.source),t=>{ew(t)&&eC(t,this),tI(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){I(L(this.source),e=>{ew(e)&&eS(e,this)}),this._active.clear(),nr(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=L(this.source).reduce((e,t)=>Math.max(e,(tI(t)?t.priority:0)+1),0))}};function nt(e){return!1!==e.idle}function nn(e){return!e.size||Array.from(e).every(nt)}function nr(e){e.idle||(e.idle=!0,I(e6(e),e=>{e.done=!0}),ej(e,{type:"idle",parent:e}))}O.assign({createStringInterpolator:eF,to:(e,t)=>new ne(e,t)}),X.advance;var ni=["primitive"].concat(Object.keys(n(7431)).filter(e=>/^[A-Z]/.test(e)).map(e=>e[0].toLowerCase()+e.slice(1)));O.assign({createStringInterpolator:eF,colors:{transparent:0,aliceblue:0xf0f8ffff,antiquewhite:0xfaebd7ff,aqua:0xffffff,aquamarine:0x7fffd4ff,azure:0xf0ffffff,beige:0xf5f5dcff,bisque:0xffe4c4ff,black:255,blanchedalmond:0xffebcdff,blue:65535,blueviolet:0x8a2be2ff,brown:0xa52a2aff,burlywood:0xdeb887ff,burntsienna:0xea7e5dff,cadetblue:0x5f9ea0ff,chartreuse:0x7fff00ff,chocolate:0xd2691eff,coral:0xff7f50ff,cornflowerblue:0x6495edff,cornsilk:0xfff8dcff,crimson:0xdc143cff,cyan:0xffffff,darkblue:35839,darkcyan:9145343,darkgoldenrod:0xb8860bff,darkgray:0xa9a9a9ff,darkgreen:6553855,darkgrey:0xa9a9a9ff,darkkhaki:0xbdb76bff,darkmagenta:0x8b008bff,darkolivegreen:0x556b2fff,darkorange:0xff8c00ff,darkorchid:0x9932ccff,darkred:0x8b0000ff,darksalmon:0xe9967aff,darkseagreen:0x8fbc8fff,darkslateblue:0x483d8bff,darkslategray:0x2f4f4fff,darkslategrey:0x2f4f4fff,darkturquoise:0xced1ff,darkviolet:0x9400d3ff,deeppink:0xff1493ff,deepskyblue:0xbfffff,dimgray:0x696969ff,dimgrey:0x696969ff,dodgerblue:0x1e90ffff,firebrick:0xb22222ff,floralwhite:0xfffaf0ff,forestgreen:0x228b22ff,fuchsia:0xff00ffff,gainsboro:0xdcdcdcff,ghostwhite:0xf8f8ffff,gold:0xffd700ff,goldenrod:0xdaa520ff,gray:0x808080ff,green:8388863,greenyellow:0xadff2fff,grey:0x808080ff,honeydew:0xf0fff0ff,hotpink:0xff69b4ff,indianred:0xcd5c5cff,indigo:0x4b0082ff,ivory:0xfffff0ff,khaki:0xf0e68cff,lavender:0xe6e6faff,lavenderblush:0xfff0f5ff,lawngreen:0x7cfc00ff,lemonchiffon:0xfffacdff,lightblue:0xadd8e6ff,lightcoral:0xf08080ff,lightcyan:0xe0ffffff,lightgoldenrodyellow:0xfafad2ff,lightgray:0xd3d3d3ff,lightgreen:0x90ee90ff,lightgrey:0xd3d3d3ff,lightpink:0xffb6c1ff,lightsalmon:0xffa07aff,lightseagreen:0x20b2aaff,lightskyblue:0x87cefaff,lightslategray:0x778899ff,lightslategrey:0x778899ff,lightsteelblue:0xb0c4deff,lightyellow:0xffffe0ff,lime:0xff00ff,limegreen:0x32cd32ff,linen:0xfaf0e6ff,magenta:0xff00ffff,maroon:0x800000ff,mediumaquamarine:0x66cdaaff,mediumblue:52735,mediumorchid:0xba55d3ff,mediumpurple:0x9370dbff,mediumseagreen:0x3cb371ff,mediumslateblue:0x7b68eeff,mediumspringgreen:0xfa9aff,mediumturquoise:0x48d1ccff,mediumvioletred:0xc71585ff,midnightblue:0x191970ff,mintcream:0xf5fffaff,mistyrose:0xffe4e1ff,moccasin:0xffe4b5ff,navajowhite:0xffdeadff,navy:33023,oldlace:0xfdf5e6ff,olive:0x808000ff,olivedrab:0x6b8e23ff,orange:0xffa500ff,orangered:0xff4500ff,orchid:0xda70d6ff,palegoldenrod:0xeee8aaff,palegreen:0x98fb98ff,paleturquoise:0xafeeeeff,palevioletred:0xdb7093ff,papayawhip:0xffefd5ff,peachpuff:0xffdab9ff,peru:0xcd853fff,pink:0xffc0cbff,plum:0xdda0ddff,powderblue:0xb0e0e6ff,purple:0x800080ff,rebeccapurple:0x663399ff,red:0xff0000ff,rosybrown:0xbc8f8fff,royalblue:0x4169e1ff,saddlebrown:0x8b4513ff,salmon:0xfa8072ff,sandybrown:0xf4a460ff,seagreen:0x2e8b57ff,seashell:0xfff5eeff,sienna:0xa0522dff,silver:0xc0c0c0ff,skyblue:0x87ceebff,slateblue:0x6a5acdff,slategray:0x708090ff,slategrey:0x708090ff,snow:0xfffafaff,springgreen:0xff7fff,steelblue:0x4682b4ff,tan:0xd2b48cff,teal:8421631,thistle:0xd8bfd8ff,tomato:0xff6347ff,turquoise:0x40e0d0ff,violet:0xee82eeff,wheat:0xf5deb3ff,white:0xffffffff,whitesmoke:0xf5f5f5ff,yellow:0xffff00ff,yellowgreen:0x9acd32ff},frameLoop:"demand"}),(0,s.j)(()=>{c.advance()});var no=((e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=e=>new tt(e),getComponentProps:r=e=>e}={})=>{let i={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},o=e=>{let t=ts(e)||"Anonymous";return(e=R.str(e)?o[e]||(o[e]=to(e,i)):e[tl]||(e[tl]=to(e,i))).displayName=`Animated(${t})`,e};return z(e,(t,n)=>{R.arr(e)&&(n=ts(t)),o[n]=o(t)}),{animated:o}})(ni,{applyAnimatedValues:s.q}).animated},9033:(e,t,n)=>{e.exports=n(2436)}}]);