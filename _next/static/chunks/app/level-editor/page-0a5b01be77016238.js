(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[903],{4033:(e,s,t)=>{Promise.resolve().then(t.bind(t,4933))},4933:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>J});var a=t(5155),i=t(2115),n=t(7168),l=t(9852),r=t(2714),c=t(3763),o=t(3999);let d=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,a.jsxs)(c.bL,{ref:s,className:(0,o.cn)("relative flex w-full touch-none select-none items-center",t),...i,children:[(0,a.jsx)(c.CC,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,a.jsx)(c.Q6,{className:"absolute h-full bg-primary"})}),(0,a.jsx)(c.zi,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});d.displayName=c.bL.displayName;var x=t(88),m=t(4643);let f=m.bL,u=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,a.jsx)(m.B8,{ref:s,className:(0,o.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...i})});u.displayName=m.B8.displayName;let h=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,a.jsx)(m.l9,{ref:s,className:(0,o.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...i})});h.displayName=m.l9.displayName;let g=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,a.jsx)(m.UC,{ref:s,className:(0,o.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...i})});g.displayName=m.UC.displayName;var j=t(4229),p=t(3837),y=t(3744),w=t(2178),v=t(5690),N=t(8979),b=t(9428),S=t(2965),C=t(3104),k=t(3654),A=t(8932),P=t(5339),G=t(9026),I=t(3291),z=t(544),F=t(7558),M=t(1421),O=t(4932),E=t(3842);function L(e){let{onCanvasClick:s,currentTool:t,isDrawing:n,drawStart:l,isWideFrame:r}=e,{camera:c,raycaster:o,mouse:d,viewport:x}=(0,z.A)(),m=(0,i.useRef)(null),[f,u]=(0,i.useState)(null),[h,g]=(0,i.useState)(null),j=e=>{if(!m.current)return;d.x=e.clientX/window.innerWidth*2-1,d.y=-(2*(e.clientY/window.innerHeight))+1,o.setFromCamera(d,c);let t=o.intersectObject(m.current);if(t.length>0){let e=t[0].point;s({x:e.x,y:e.y})}};(0,i.useEffect)(()=>{let e=document.querySelector("canvas");if(e)return e.addEventListener("click",j),()=>{e.removeEventListener("click",j)}},[]),(0,z.C)(()=>{if(m.current){o.setFromCamera(d,c);let e=o.intersectObject(m.current);if(e.length>0){let s=e[0].point;g({x:s.x,y:s.y}),n&&l&&u({x:s.x,y:s.y})}else g(null),n&&u(null)}});let p=r?24:16;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("mesh",{ref:m,rotation:[-Math.PI/2,0,0],position:[0,0,0],visible:!1,children:[(0,a.jsx)("planeGeometry",{args:[p,p]}),(0,a.jsx)("meshBasicMaterial",{transparent:!0,opacity:0})]}),(0,a.jsx)(()=>n&&l&&f?(0,a.jsxs)("line",{children:[(0,a.jsx)("bufferGeometry",{attach:"geometry",children:(0,a.jsx)("bufferAttribute",{attachObject:["attributes","position"],count:2,array:new Float32Array([l.x,l.y,0,f.x,f.y,0]),itemSize:3})}),(0,a.jsx)("lineBasicMaterial",{attach:"material",color:"#ffffff",opacity:.5,transparent:!0})]}):null,{}),(0,a.jsx)(()=>{if(!h)return null;let e="#ffffff",s=.2;return"start"===t?(e="#00ff00",s=.3):"end"===t?(e="#ff0000",s=.3):"erase"===t&&(e="#ff6666",s=.4),(0,a.jsxs)("mesh",{position:[h.x,h.y,.01],children:[(0,a.jsx)("ringGeometry",{args:[s-.05,s,16]}),(0,a.jsx)("meshBasicMaterial",{color:e,transparent:!0,opacity:.7})]})},{})]})}function _(e){let{puzzle:s,onCanvasClick:t,currentTool:n,isDrawing:l,drawStart:r,isWideFrame:c,isTesting:o}=e;return(0,i.useRef)(null),(0,a.jsxs)(F.Hl,{shadows:!0,camera:{position:c?[0,0,20]:[0,0,15],fov:50},children:[(0,a.jsx)("ambientLight",{intensity:.5}),(0,a.jsx)("directionalLight",{position:[10,10,10],intensity:1,castShadow:!0}),(0,a.jsx)(M.AQ,{gravity:[0,-9.81,0],children:o?(0,a.jsx)(E.A,{puzzle:s,isSimulating:!0,onPuzzleSolved:()=>{},setBallRef:e=>{},isSolved:!1}):(0,a.jsxs)(a.Fragment,{children:[s.lines.map((e,s)=>{let t=(e.start.x+e.end.x)/2,i=(e.start.y+e.end.y)/2,n=e.end.x-e.start.x,l=e.end.y-e.start.y,r=Math.sqrt(n*n+l*l),c=Math.atan2(l,n);return(0,a.jsx)(M.Ux,{type:"fixed",position:[t,i,0],rotation:[0,0,c],children:(0,a.jsxs)("mesh",{receiveShadow:!0,children:[(0,a.jsx)("boxGeometry",{args:[r,.2,.2]}),(0,a.jsx)("meshStandardMaterial",{color:e.color||"#ffffff"})]})},s)}),(0,a.jsxs)("mesh",{position:[s.startPosition.x,s.startPosition.y,0],children:[(0,a.jsx)("ringGeometry",{args:[.6,.7,32]}),(0,a.jsx)("meshStandardMaterial",{color:"#00ff00"})]}),(0,a.jsxs)("mesh",{position:[s.endPosition.x,s.endPosition.y,0],children:[(0,a.jsx)("ringGeometry",{args:[.6,.7,32]}),(0,a.jsx)("meshStandardMaterial",{color:"#ff0000"})]}),(0,a.jsxs)("mesh",{position:[s.startPosition.x,s.startPosition.y,0],children:[(0,a.jsx)("sphereGeometry",{args:[.5,32,32]}),(0,a.jsx)("meshStandardMaterial",{color:"#ff8888",transparent:!0,opacity:.7})]}),(0,a.jsxs)("mesh",{position:[0,0,-.2],receiveShadow:!0,children:[(0,a.jsx)("ringGeometry",{args:[c?11.9:7.9,c?12:8,32]}),(0,a.jsx)("meshBasicMaterial",{color:"#333333",transparent:!0,opacity:.1})]}),(0,a.jsx)(L,{onCanvasClick:t,currentTool:n,isDrawing:l,drawStart:r,isWideFrame:c})]})}),(0,a.jsx)(O.N,{enableZoom:!0,enablePan:!0})]})}var $=t(3580);function R(){let{toast:e}=(0,$.dj)(),[s,t]=(0,i.useState)("line"),[c,o]=(0,i.useState)([new I.tG(new I.ag(-8,-5),new I.ag(8,-5),.5,!0,"#8888ff"),new I.tG(new I.ag(-8,-5),new I.ag(-8,5),.5,!0,"#8888ff"),new I.tG(new I.ag(-8,5),new I.ag(8,5),.5,!0,"#8888ff"),new I.tG(new I.ag(8,-5),new I.ag(8,5),.5,!0,"#8888ff")]),[m,z]=(0,i.useState)(new I.ag(-4,1)),[F,M]=(0,i.useState)(new I.ag(4,-1)),[O,E]=(0,i.useState)(0),[L,R]=(0,i.useState)("マイカスタムレベル"),[T,B]=(0,i.useState)("匿名"),[D,J]=(0,i.useState)(!1),[q,U]=(0,i.useState)(null),[V,W]=(0,i.useState)(null),[Y,H]=(0,i.useState)(!1),[Q,X]=(0,i.useState)(!1),[Z,K]=(0,i.useState)([]),[ee,es]=(0,i.useState)([]),[et,ea]=(0,i.useState)(.5),[ei,en]=(0,i.useState)(!0),[el,er]=(0,i.useState)("#88ff88"),ec=()=>{K([...Z,[...c]]),es([])},eo=(e,s,t)=>{let a,i;let n=e.x-s.x,l=e.y-s.y,r=t.x-s.x,c=t.y-s.y,o=r*r+c*c,d=-1;0!==o&&(d=(n*r+l*c)/o),d<0?(a=s.x,i=s.y):d>1?(a=t.x,i=t.y):(a=s.x+d*r,i=s.y+d*c);let x=e.x-a,m=e.y-i;return Math.sqrt(x*x+m*m)};return(0,a.jsxs)("div",{className:"w-full h-full flex flex-col",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center p-2 bg-gray-800",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-white",children:"レベルエディタ"}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(l.p,{value:L,onChange:e=>R(e.target.value),placeholder:"レベル名",className:"w-48 h-8"}),(0,a.jsx)(l.p,{value:T,onChange:e=>B(e.target.value),placeholder:"作者名",className:"w-32 h-8"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>{if(!L.trim()){e({title:"エラー",description:"レベル名を入力してください",variant:"destructive"});return}let s={id:"custom_".concat(Date.now()),name:L,author:T||"匿名",lines:c.map(e=>({start:{x:e.start.x,y:e.start.y},end:{x:e.end.x,y:e.end.y},friction:e.friction||.5,bounce:e.bounce||!0,color:e.color||"#88ff88"})),startPosition:{x:m.x,y:m.y},endPosition:{x:F.x,y:F.y},timeLimit:O,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};try{let t=localStorage.getItem("customLevels"),a=[];t&&(a=JSON.parse(t)),a.push(s),localStorage.setItem("customLevels",JSON.stringify(a)),e({title:"保存完了",description:"レベル「".concat(L,"」が保存されました")})}catch(s){console.error("レベルの保存に失敗しました:",s),e({title:"保存エラー",description:"レベルの保存に失敗しました",variant:"destructive"})}},className:"flex items-center space-x-1",children:[(0,a.jsx)(j.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"保存"})]}),(0,a.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>{if(!L.trim()){e({title:"エラー",description:"レベル名を入力してください",variant:"destructive"});return}let s="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify({id:"custom_".concat(Date.now()),name:L,author:T||"匿名",lines:c.map(e=>({start:{x:e.start.x,y:e.start.y},end:{x:e.end.x,y:e.end.y},friction:e.friction||.5,bounce:e.bounce||!0,color:e.color||"#88ff88"})),startPosition:{x:m.x,y:m.y},endPosition:{x:F.x,y:F.y},timeLimit:O,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})),t=document.createElement("a");t.setAttribute("href",s),t.setAttribute("download","".concat(L.replace(/\s+/g,"_"),".json")),document.body.appendChild(t),t.click(),t.remove()},className:"flex items-center space-x-1",children:[(0,a.jsx)(p.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"エクスポート"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(n.$,{variant:"outline",size:"sm",className:"flex items-center space-x-1",onClick:()=>{var e;return null===(e=document.getElementById("import-level"))||void 0===e?void 0:e.click()},children:[(0,a.jsx)(y.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"インポート"})]}),(0,a.jsx)("input",{id:"import-level",type:"file",accept:".json",onChange:s=>{var t;let a=null===(t=s.target.files)||void 0===t?void 0:t[0];if(!a)return;let i=new FileReader;i.onload=s=>{try{var t;let a=null===(t=s.target)||void 0===t?void 0:t.result,i=JSON.parse(a);if(!i.lines||!i.startPosition||!i.endPosition)throw Error("無効なレベルデータです");R(i.name||"インポートしたレベル"),B(i.author||"匿名"),E(i.timeLimit||0);let n=i.lines.map(e=>new I.tG(new I.ag(e.start.x,e.start.y),new I.ag(e.end.x,e.end.y),e.friction,e.bounce,e.color));o(n),z(new I.ag(i.startPosition.x,i.startPosition.y)),M(new I.ag(i.endPosition.x,i.endPosition.y));let l=n.some(e=>Math.abs(e.start.x)>10||Math.abs(e.start.y)>6||Math.abs(e.end.x)>10||Math.abs(e.end.y)>6);H(l),e({title:"インポート完了",description:"レベル「".concat(i.name,"」がインポートされました")})}catch(s){console.error("レベルのインポートに失敗しました:",s),e({title:"インポートエラー",description:"無効なレベルファイルです",variant:"destructive"})}},i.readAsText(a),s.target.value=""},className:"hidden"})]}),(0,a.jsx)(n.$,{variant:Q?"destructive":"default",size:"sm",onClick:()=>{X(!Q)},className:"flex items-center space-x-1",children:Q?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"停止"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"テストプレイ"})]})})]})]}),(0,a.jsxs)("div",{className:"flex flex-1",children:[(0,a.jsxs)("div",{className:"w-64 bg-gray-900 p-4 flex flex-col space-y-4 overflow-y-auto",children:[(0,a.jsxs)(f,{defaultValue:"tools",children:[(0,a.jsxs)(u,{className:"grid w-full grid-cols-2",children:[(0,a.jsx)(h,{value:"tools",children:"ツール"}),(0,a.jsx)(h,{value:"properties",children:"プロパティ"})]}),(0,a.jsxs)(g,{value:"tools",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-white",children:"描画ツール"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,a.jsxs)(n.$,{variant:"line"===s?"default":"outline",size:"sm",onClick:()=>t("line"),className:"flex flex-col items-center py-2",children:[(0,a.jsx)(N.A,{className:"h-4 w-4 mb-1"}),(0,a.jsx)("span",{className:"text-xs",children:"線"})]}),(0,a.jsxs)(n.$,{variant:"start"===s?"default":"outline",size:"sm",onClick:()=>t("start"),className:"flex flex-col items-center py-2",children:[(0,a.jsx)(b.A,{className:"h-4 w-4 mb-1 text-green-500"}),(0,a.jsx)("span",{className:"text-xs",children:"開始点"})]}),(0,a.jsxs)(n.$,{variant:"end"===s?"default":"outline",size:"sm",onClick:()=>t("end"),className:"flex flex-col items-center py-2",children:[(0,a.jsx)(b.A,{className:"h-4 w-4 mb-1 text-red-500"}),(0,a.jsx)("span",{className:"text-xs",children:"終了点"})]}),(0,a.jsxs)(n.$,{variant:"select"===s?"default":"outline",size:"sm",onClick:()=>t("select"),className:"flex flex-col items-center py-2",children:[(0,a.jsx)(S.A,{className:"h-4 w-4 mb-1"}),(0,a.jsx)("span",{className:"text-xs",children:"選択"})]}),(0,a.jsxs)(n.$,{variant:"erase"===s?"default":"outline",size:"sm",onClick:()=>t("erase"),className:"flex flex-col items-center py-2",children:[(0,a.jsx)(C.A,{className:"h-4 w-4 mb-1"}),(0,a.jsx)("span",{className:"text-xs",children:"消去"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-white",children:"編集"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>{if(0===Z.length)return;let e=Z[Z.length-1],s=Z.slice(0,-1);es([...ee,[...c]]),o(e),K(s)},disabled:0===Z.length,className:"flex items-center justify-center space-x-1",children:[(0,a.jsx)(k.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-xs",children:"元に戻す"})]}),(0,a.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>{if(0===ee.length)return;let e=ee[ee.length-1],s=ee.slice(0,-1);K([...Z,[...c]]),o(e),es(s)},disabled:0===ee.length,className:"flex items-center justify-center space-x-1",children:[(0,a.jsx)(A.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-xs",children:"やり直し"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-white",children:"フレームサイズ"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(x.d,{id:"wide-frame",checked:Y,onCheckedChange:()=>{ec(),Y?o([new I.tG(new I.ag(-8,-5),new I.ag(8,-5),.5,!0,"#8888ff"),new I.tG(new I.ag(-8,-5),new I.ag(-8,5),.5,!0,"#8888ff"),new I.tG(new I.ag(-8,5),new I.ag(8,5),.5,!0,"#8888ff"),new I.tG(new I.ag(8,-5),new I.ag(8,5),.5,!0,"#8888ff")]):o([new I.tG(new I.ag(-12,-8),new I.ag(12,-8),.5,!0,"#8888ff"),new I.tG(new I.ag(-12,-8),new I.ag(-12,8),.5,!0,"#8888ff"),new I.tG(new I.ag(-12,8),new I.ag(12,8),.5,!0,"#8888ff"),new I.tG(new I.ag(12,-8),new I.ag(12,8),.5,!0,"#8888ff")]),H(!Y)}}),(0,a.jsx)(r.J,{htmlFor:"wide-frame",className:"text-white",children:"広いフレーム"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:Y?"サイズ: -12 〜 12":"サイズ: -8 〜 8"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-white",children:"制限時間"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(l.p,{type:"number",min:"0",max:"300",value:O,onChange:e=>E(Number.parseInt(e.target.value)||0),className:"w-20 h-8"}),(0,a.jsx)("span",{className:"text-white",children:"秒"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:"0 = 制限時間なし"})]})]}),(0,a.jsx)(g,{value:"properties",className:"space-y-4",children:null!==V?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-white",children:"線のプロパティ"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)(r.J,{htmlFor:"line-friction",className:"text-xs text-white",children:["摩擦係数: ",et.toFixed(2)]}),(0,a.jsx)(d,{id:"line-friction",min:0,max:1,step:.05,value:[et],onValueChange:e=>ea(e[0]),className:"py-2"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(x.d,{id:"line-bounce",checked:ei,onCheckedChange:en}),(0,a.jsx)(r.J,{htmlFor:"line-bounce",className:"text-white",children:"バウンス"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(r.J,{htmlFor:"line-color",className:"text-xs text-white",children:"色"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"color",id:"line-color",value:el,onChange:e=>er(e.target.value),className:"w-8 h-8 rounded cursor-pointer"}),(0,a.jsx)("div",{className:"grid grid-cols-4 gap-1",children:["#88ff88","#ff88ff","#8888ff","#ffff88"].map(e=>(0,a.jsx)("div",{className:"w-6 h-6 rounded cursor-pointer border border-gray-600",style:{backgroundColor:e},onClick:()=>er(e)},e))})]})]}),(0,a.jsx)(n.$,{onClick:()=>{if(null===V)return;ec();let e=[...c];e[V]=new I.tG(new I.ag(c[V].start.x,c[V].start.y),new I.ag(c[V].end.x,c[V].end.y),et,ei,el),o(e)},className:"w-full mt-2",children:"適用"})]})}):(0,a.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[(0,a.jsx)("p",{children:"線を選択してください"}),(0,a.jsx)("p",{className:"text-xs mt-2",children:"「選択」ツールを使用して線をクリックすると、プロパティを編集できます"})]})})]}),(0,a.jsx)("div",{className:"mt-auto pt-4 border-t border-gray-700",children:(0,a.jsxs)(G.Fc,{className:"bg-gray-800 border-gray-700",children:[(0,a.jsx)(P.A,{className:"h-4 w-4 text-blue-400"}),(0,a.jsx)(G.TN,{className:"text-xs text-gray-300",children:"作成したレベルは自動的に保存されません。「保存」ボタンを押して保存してください。"})]})})]}),(0,a.jsx)("div",{className:"flex-1 relative",children:(0,a.jsx)(_,{puzzle:{id:"editor_preview",lines:c,ball:new I.qr("editor_ball",new I.ag(m.x,m.y),new I.ag(0,0),.5,"#ff8888"),startPosition:m,endPosition:F,gravity:new I.ag(0,-9.81),timeLimit:O,applyPhysics:()=>{},checkCollisions:()=>{},isSolved:()=>!1,reset:()=>{},render:()=>{}},onCanvasClick:e=>{if("start"===s)z(e);else if("end"===s)M(e);else if("line"!==s||D){if("line"===s&&D&&q)ec(),o([...c,new I.tG(new I.ag(q.x,q.y),new I.ag(e.x,e.y),et,ei,el)]),J(!1),U(null);else if("select"===s){let s=-1,t=Number.POSITIVE_INFINITY;if(c.forEach((a,i)=>{let n=eo(e,a.start,a.end);n<t&&(t=n,s=i)}),t<.5&&s>=0){W(s);let e=c[s];ea(e.friction||.5),en(e.bounce||!0),er(e.color||"#88ff88")}else W(null)}else if("erase"===s){let s=-1,t=Number.POSITIVE_INFINITY;if(c.forEach((a,i)=>{if(i<4)return;let n=eo(e,a.start,a.end);n<t&&(t=n,s=i)}),t<.5&&s>=4){ec();let e=[...c];e.splice(s,1),o(e)}}}else J(!0),U(e)},currentTool:s,isDrawing:D,drawStart:q,isWideFrame:Y,isTesting:Q})})]})]})}var T=t(7746),B=t(5325),D=t(1639);function J(){return(0,a.jsxs)("main",{className:"flex min-h-screen flex-col bg-gray-900",children:[(0,a.jsx)(B.A,{}),(0,a.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,a.jsx)(D.A,{})}),(0,a.jsx)("div",{className:"flex-1 w-full",children:(0,a.jsx)(R,{})}),(0,a.jsx)(T.A,{})]})}},9852:(e,s,t)=>{"use strict";t.d(s,{p:()=>l});var a=t(5155),i=t(2115),n=t(3999);let l=i.forwardRef((e,s)=>{let{className:t,type:i,...l}=e;return(0,a.jsx)("input",{type:i,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...l})});l.displayName="Input"}},e=>{var s=s=>e(e.s=s);e.O(0,[932,831,367,413,180,175,33,79,803,441,684,358],()=>s(4033)),_N_E=e.O()}]);