"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[707],{5707:(e,t,s)=>{s.d(t,{A:()=>y});var a=s(5155),r=s(2115),l=s(7168),i=s(9852),n=s(3622),c=s(3999);let o=r.forwardRef((e,t)=>{let{className:s,children:r,...l}=e;return(0,a.jsxs)(n.bL,{ref:t,className:(0,c.cn)("relative overflow-hidden",s),...l,children:[(0,a.jsx)(n.LM,{className:"h-full w-full rounded-[inherit]",children:r}),(0,a.jsx)(d,{}),(0,a.jsx)(n.OK,{})]})});o.displayName=n.bL.displayName;let d=r.forwardRef((e,t)=>{let{className:s,orientation:r="vertical",...l}=e;return(0,a.jsx)(n.VM,{ref:t,orientation:r,className:(0,c.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 border-t border-t-transparent p-[1px]",s),...l,children:(0,a.jsx)(n.lr,{className:"relative flex-1 rounded-full bg-border"})})});d.displayName=n.VM.displayName;var h=s(8482),m=s(4616),x=s(4186),u=s(1788),f=s(3717),p=s(2525),g=s(6516),j=s(5690),v=s(4416),w=s(3580),N=s(5695),b=s(6332);function y(e){let{onSelectLevel:t,showPlayButton:s=!0}=e,{toast:n}=(0,w.dj)(),c=(0,N.useRouter)(),[d,y]=(0,r.useState)([]),[C,k]=(0,r.useState)(""),[A,z]=(0,r.useState)(null),[S,L]=(0,r.useState)(null),[R,$]=(0,r.useState)(!1);(0,r.useEffect)(()=>{try{let e=localStorage.getItem("customLevels");if(e){let t=JSON.parse(e);y(t)}}catch(e){console.error("カスタムレベルの読み込みに失敗しました:",e),n({title:"エラー",description:"カスタムレベルの読み込みに失敗しました",variant:"destructive"})}},[]);let _=e=>{try{let t=d.filter(t=>t.id!==e.id);localStorage.setItem("customLevels",JSON.stringify(t)),y(t),z(null),$(!1),n({title:"削除完了",description:"レベル「".concat(e.name,"」が削除されました")})}catch(e){console.error("レベルの削除に失敗しました:",e),n({title:"削除エラー",description:"レベルの削除に失敗しました",variant:"destructive"})}},D=e=>{let t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e)),s=document.createElement("a");s.setAttribute("href",t),s.setAttribute("download","".concat(e.name.replace(/\s+/g,"_"),".json")),document.body.appendChild(s),s.click(),s.remove(),n({title:"エクスポート完了",description:"レベル「".concat(e.name,"」がエクスポートされました")})},E=e=>{c.push("/level-editor")},I=d.filter(e=>e.name.toLowerCase().includes(C.toLowerCase())||e.author.toLowerCase().includes(C.toLowerCase())),K=e=>{try{return new Date(e).toLocaleDateString()}catch(e){return"不明な日付"}};return(0,a.jsxs)("div",{className:"w-full p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white",children:"カスタムレベル"}),(0,a.jsxs)(l.$,{onClick:()=>c.push("/level-editor"),className:"flex items-center space-x-1",children:[(0,a.jsx)(m.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"新規作成"})]})]}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(i.p,{placeholder:"レベル名または作者名で検索...",value:C,onChange:e=>k(e.target.value),className:"w-full"})}),0===I.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-400",children:C?(0,a.jsx)("p",{children:"検索条件に一致するレベルが見つかりませんでした"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"カスタムレベルがありません"}),(0,a.jsx)(l.$,{onClick:()=>c.push("/level-editor"),className:"mt-4",children:"最初のレベルを作成"})]})}):(0,a.jsx)(o,{className:"h-[calc(100vh-200px)]",children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:I.map(e=>(0,a.jsxs)(h.Zp,{className:"bg-gray-800 border-gray-700",children:[(0,a.jsxs)(h.aR,{children:[(0,a.jsx)(h.ZB,{className:"text-white",children:e.name}),(0,a.jsxs)(h.BT,{children:["作者: ",e.author||"匿名"]})]}),(0,a.jsxs)(h.Wu,{children:[(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-400 mb-2",children:[(0,a.jsx)(x.A,{className:"h-4 w-4 mr-1"}),e.timeLimit>0?"制限時間: ".concat(e.timeLimit,"秒"):"制限時間なし"]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["作成日: ",K(e.createdAt)]})]}),(0,a.jsxs)(h.wL,{className:"flex justify-between",children:[(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(l.$,{variant:"outline",size:"sm",onClick:()=>D(e),title:"エクスポート",children:(0,a.jsx)(u.A,{className:"h-4 w-4"})}),(0,a.jsx)(l.$,{variant:"outline",size:"sm",onClick:()=>E(e),title:"編集",children:(0,a.jsx)(f.A,{className:"h-4 w-4"})}),(0,a.jsx)(l.$,{variant:"outline",size:"sm",onClick:()=>{z(e),$(!0)},title:"削除",children:(0,a.jsx)(p.A,{className:"h-4 w-4"})}),(0,a.jsx)(l.$,{variant:"outline",size:"sm",onClick:()=>L(e),title:"シェア",children:(0,a.jsx)(g.A,{className:"h-4 w-4"})})]}),s&&t&&(0,a.jsxs)(l.$,{size:"sm",onClick:()=>t(e),className:"flex items-center space-x-1",children:[(0,a.jsx)(j.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"プレイ"})]})]})]},e.id))})}),R&&A&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg max-w-md w-full",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"レベルを削除"}),(0,a.jsxs)("p",{className:"text-gray-300 mb-6",children:["レベル「",A.name,"」を削除しますか？この操作は元に戻せません。"]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,a.jsx)(l.$,{variant:"outline",onClick:()=>{z(null),$(!1)},children:"キャンセル"}),(0,a.jsx)(l.$,{variant:"destructive",onClick:()=>A&&_(A),children:"削除"})]})]})}),S&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg max-w-md w-full",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-white",children:"レベルをシェア"}),(0,a.jsx)(l.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>L(null),children:(0,a.jsx)(v.A,{className:"h-4 w-4"})})]}),(0,a.jsxs)("p",{className:"text-gray-300 mb-4",children:["カスタムレベル「",S.name,"」をSNSでシェアしましょう！"]}),(0,a.jsx)(b.A,{title:"「".concat(S.name,"」に挑戦しよう！ - Kuso Physics"),description:"作者: ".concat(S.author||"匿名"," のレベル「").concat(S.name,"」に挑戦しよう！物理パズルゲーム Kuso Physics"),hashtags:["KusoPhysics","物理パズル","カスタムレベル"]})]})})]})}},6332:(e,t,s)=>{s.d(t,{A:()=>x});var a=s(5155),r=s(2115),l=s(7168),i=s(6516),n=s(8175),c=s(488),o=s(5196),d=s(4357),h=s(3580),m=s(4460);function x(e){let{url:t="",title:s="Kuso Physics - 物理パズルゲーム",description:x="物理エンジンを使った楽しいパズルゲーム。ボールを操作して目標地点に到達させよう！",hashtags:u=["KusoPhysics","パズルゲーム","物理ゲーム"],showCopyLink:f=!0,className:p=""}=e,{toast:g}=(0,h.dj)(),{t:j}=(0,m.o)(),[v,w]=(0,r.useState)(!1),N=t||window.location.href,b=encodeURIComponent(N),y=encodeURIComponent(s),C=u.join(","),k="undefined"!=typeof navigator&&!!navigator.share;return(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 ".concat(p),children:[k&&(0,a.jsxs)(l.$,{variant:"outline",size:"sm",className:"bg-gray-700 hover:bg-gray-600 text-white",onClick:()=>{"undefined"!=typeof navigator&&navigator.share?navigator.share({title:s,text:x,url:N}).then(()=>console.log("共有に成功しました")).catch(e=>console.log("共有に失敗しました",e)):g({title:j("alert.shareNotSupported"),description:j("alert.shareNotSupportedDetail"),variant:"destructive"})},children:[(0,a.jsx)(i.A,{className:"h-4 w-4 mr-2"}),j("game.share")]}),(0,a.jsxs)(l.$,{variant:"outline",size:"sm",className:"bg-[#1DA1F2] hover:bg-[#1a94df] text-white",onClick:()=>{{let e="https://twitter.com/intent/tweet?url=".concat(b,"&text=").concat(y,"&hashtags=").concat(C);window.open(e,"_blank","noopener,noreferrer")}},children:[(0,a.jsx)(n.A,{className:"h-4 w-4 mr-2"}),"Twitter"]}),(0,a.jsxs)(l.$,{variant:"outline",size:"sm",className:"bg-[#1877F2] hover:bg-[#166fe5] text-white",onClick:()=>{window.open("https://www.facebook.com/sharer/sharer.php?u=".concat(b),"_blank","noopener,noreferrer")},children:[(0,a.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Facebook"]}),(0,a.jsxs)(l.$,{variant:"outline",size:"sm",className:"bg-[#06C755] hover:bg-[#05b54c] text-white",onClick:()=>{window.open("https://social-plugins.line.me/lineit/share?url=".concat(b),"_blank","noopener,noreferrer")},children:[(0,a.jsx)("svg",{className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M19.365 9.89c.50 0 .866.37.866.87 0 .5-.366.87-.866.87h-2.373v1.49h2.373c.5 0 .866.37.866.87 0 .5-.366.87-.866.87h-3.242c-.5 0-.866-.37-.866-.87V9.02c0-.5.366-.87.866-.87h3.242c.5 0 .866.37.866.87 0 .5-.366.87-.866.87h-2.373v1.49h2.373zm-7.869 4.1c0 .5-.366.87-.866.87-.5 0-.866-.37-.866-.87V9.02c0-.5.366-.87.866-.87.5 0 .866.37.866.87v4.97zm-1.752-1.49h-2.215v-3.48c0-.5-.366-.87-.866-.87-.5 0-.866.37-.866.87v4.35c0 .5.366.87.866.87h3.08c.5 0 .866-.37.866-.87 0-.5-.365-.87-.865-.87zm-5.188-3.48H3.31c-.5 0-.866.37-.866.87 0 .5.366.87.866.87h.866v3.48c0 .5.366.87.866.87.5 0 .866-.37.866-.87v-3.48h.866c.5 0 .866-.37.866-.87 0-.5-.366-.87-.866-.87zM24 10.32C24 4.99 18.627 0 12 0S0 4.99 0 10.32c0 4.83 4.29 8.87 10.084 9.65.393.08.927.27 1.063.61.12.31.08.8.04 1.12l-.173 1.03c-.05.31-.24 1.22 1.07.67s7.13-4.2 9.726-7.19C23.29 14.67 24 12.59 24 10.32z"})}),"LINE"]}),f&&"undefined"!=typeof navigator&&navigator.clipboard&&(0,a.jsxs)(l.$,{variant:"outline",size:"sm",className:"bg-gray-700 hover:bg-gray-600 text-white",onClick:()=>{"undefined"!=typeof navigator&&navigator.clipboard&&navigator.clipboard.writeText(N).then(()=>{w(!0),g({title:j("alert.copySuccess"),description:j("alert.copySuccessDetail")}),setTimeout(()=>w(!1),2e3)},e=>{console.error("リンクのコピーに失敗しました:",e),g({title:j("alert.copyError"),description:j("alert.copyErrorDetail"),variant:"destructive"})})},children:[v?(0,a.jsx)(o.A,{className:"h-4 w-4 mr-2"}):(0,a.jsx)(d.A,{className:"h-4 w-4 mr-2"}),v?j("share.copied"):j("share.copyLink")]})]})}},8482:(e,t,s)=>{s.d(t,{BT:()=>o,Wu:()=>d,ZB:()=>c,Zp:()=>i,aR:()=>n,wL:()=>h});var a=s(5155),r=s(2115),l=s(3999);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});i.displayName="Card";let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...r})});n.displayName="CardHeader";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});c.displayName="CardTitle";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...r})});o.displayName="CardDescription";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",s),...r})});d.displayName="CardContent";let h=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",s),...r})});h.displayName="CardFooter"},9852:(e,t,s)=>{s.d(t,{p:()=>i});var a=s(5155),r=s(2115),l=s(3999);let i=r.forwardRef((e,t)=>{let{className:s,type:r,...i}=e;return(0,a.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...i})});i.displayName="Input"}}]);